import{j as t}from"./jsx-runtime-u17CrQMm.js";import{R as N}from"./iframe-DVSZfAXH.js";const T=N.forwardRef(({className:v,validation:n="none",textarea:y,rows:j=3,resize:q="none",disabled:o,width:r,prefix:p,suffix:c,prefixClassName:C,suffixClassName:b,size:m="medium",htmlSize:h,...d},i)=>{const l=N.useRef(null),g=e=>{if(l.current=e,!!i)if(typeof i=="function")try{i(e)}catch{}else try{i.current=e}catch{}},a=["beaver-input"];if(n&&n!=="none"&&a.push(`beaver-input--${n}`),y&&a.push("beaver-input--textarea"),o&&a.push("beaver-input--disabled"),m&&a.push(`beaver-input--${m}`),v&&a.push(v),y){const{style:e,...s}=d,f={...e,resize:q,...r!==void 0?{width:typeof r=="number"?`${r}px`:r}:{}};return t.jsx("textarea",{ref:i,className:a.join(" "),"aria-invalid":n==="error",rows:j,style:f,...s})}const{style:S,allowClear:x,onClear:R,...u}=d,w={...S,...r!==void 0?{width:typeof r=="number"?`${r}px`:r}:{}},z=e=>{e.preventDefault(),e.stopPropagation();const s=d.onChange;if(s)s({target:{value:""},currentTarget:{value:""}});else if(l.current){l.current.value="";try{l.current.dispatchEvent(new Event("input",{bubbles:!0}))}catch{}}try{R&&R()}catch{}},$=e=>{e.preventDefault(),e.stopPropagation()},I=p||c||x,_=t.jsx("input",{ref:g,className:a.join(" "),"aria-invalid":n==="error",disabled:o,size:h,style:w,...u});return I?t.jsxs("div",{className:`beaver-input-wrapper beaver-input-wrapper--${m}`,children:[p&&t.jsx("div",{className:`beaver-input-prefix ${C||""}`,children:p}),_,c?t.jsx("div",{className:`beaver-input-suffix ${b||""}`,children:c}):x&&t.jsx("div",{className:`beaver-input-suffix ${b||""}`,children:t.jsx("button",{type:"button",className:"beaver-input-clear",onMouseDown:$,onClick:z,"aria-label":"clear",style:{visibility:u.value?"visible":"hidden",opacity:u.value?1:0,transition:"opacity 0.2s ease, visibility 0.2s ease"},children:"✕"})})]}):t.jsx("input",{ref:g,className:a.join(" "),"aria-invalid":n==="error",disabled:o,size:h,style:w,...u})});T.displayName="Input";T.__docgenInfo={description:"",methods:[],displayName:"Input",props:{validation:{required:!1,tsType:{name:"union",raw:"'error' | 'success' | 'warning' | 'none'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'none'"}]},description:"输入校验状态",defaultValue:{value:"'none'",computed:!1}},textarea:{required:!1,tsType:{name:"boolean"},description:"是否为多行文本域"},rows:{required:!1,tsType:{name:"number"},description:"多行文本域时的行数，默认3行",defaultValue:{value:"3",computed:!1}},resize:{required:!1,tsType:{name:"ReactCSSProperties['resize']",raw:"React.CSSProperties['resize']"},description:"textarea 的 CSS resize，例如 'none' | 'both' | 'horizontal' | 'vertical'",defaultValue:{value:"'none'",computed:!1}},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"直接设置宽度，支持 number(像素) 或 字符串(如 '100%','200px')"},prefix:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"输入框前置内容（图标、文本等）"},suffix:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"输入框后置内容（图标、清除按钮等）"},prefixClassName:{required:!1,tsType:{name:"string"},description:"前置内容容器类名"},suffixClassName:{required:!1,tsType:{name:"string"},description:"后置内容容器类名"},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"输入框大小",defaultValue:{value:"'medium'",computed:!1}},htmlSize:{required:!1,tsType:{name:"number"},description:"如果需要设置原生 input 的 `size` 属性（可见字符数），使用 `htmlSize`。"},allowClear:{required:!1,tsType:{name:"boolean"},description:"是否展示清除按钮（点击会清空输入）"},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"清除时触发的回调"}}};export{T as I};
