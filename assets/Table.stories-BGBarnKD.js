import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as I,R as ee}from"./iframe-DCqk6j9a.js";import{C as ue}from"./Checkbox-DO0xJXZq.js";import"./preload-helper-PPVm8Dsz.js";const k=({columns:r,data:i,rowKey:b="id",defaultAlign:c="left",showCheckbox:m=!1,selectedKeys:N,onSelectionChange:O,renderCell:te,preservePxAsMin:re=!0,minColumnPx:R=80,fixedHeader:C=!1,headerOffset:ne=0,maxHeight:W,fixedColumnCount:v=0,fixedRightCount:q=0})=>{const[ae,Q]=I.useState({}),A=Array.isArray(N),se=I.useRef(null),[f,le]=I.useState(null);I.useLayoutEffect(()=>{const e=se.current;if(!e)return;le(e.clientWidth||null);const n=new ResizeObserver(()=>{le(e.clientWidth||null)});return n.observe(e),()=>n.disconnect()},[]);const M=I.useMemo(()=>{if(A){const e={};return N.forEach(n=>e[n]=!0),e}return ae},[A,N,ae]),Z=e=>{const n=Object.keys(e).filter(s=>e[s]);O?.(n)},oe=(e,n)=>{if(A){const s=new Set(N),p=s.has(e),u=new Set(s);typeof n=="boolean"?n?u.add(e):u.delete(e):p?u.delete(e):u.add(e);const S=Array.from(u);O?.(S);return}Q(s=>{const p=typeof n=="boolean"?{...s,[e]:n}:{...s,[e]:!s[e]};return Z(p),p})},ye=e=>{if(e){const n={};i.forEach((s,p)=>{const u=String(s[b]??p);n[u]=!0}),A?O?.(Object.keys(n)):(Q(n),Z(n));return}A?O?.([]):(Q({}),Z({}))},be=i.length,fe=Object.keys(M).reduce((e,n)=>M[n]?e+1:e,0),ie=be>0&&i.every((e,n)=>!!M[String(e[b]??n)]),ge=fe>0&&!ie,de=r.some(e=>!!e.width),T=ee.useMemo(()=>{const e=typeof R=="number"&&R>0?R:80,n=r.map(y=>{const o=y.width?.trim();if(o&&o.endsWith("%")){const g=parseFloat(o.slice(0,-1));if(!Number.isNaN(g))return{key:y.key,raw:o,kind:"percent",value:g}}return{key:y.key,raw:o??void 0,kind:"other"}}),s=n.reduce((y,o)=>y+(o.kind==="percent"&&o.value?o.value:0),0),p=n.filter(y=>y.kind==="other"&&!y.raw).length,u=f&&f>0?p*e*100/f:p*3,S=Math.max(0,100-u);let l;if(s>0&&s>S){const y=S/s;l=n.map(o=>o.kind==="percent"&&o.value?{key:o.key,width:`${(o.value*y).toFixed(4).replace(/\.0+$/,"")}%`}:{key:o.key,width:o.raw})}else l=n.map(y=>({key:y.key,width:y.raw}));let a=0,x=!1,d=0;if(l.forEach(y=>{const o=y.width;if(!o){a+=e;return}const g=o.trim();if(g.endsWith("px")){const j=parseFloat(g.slice(0,-2));if(!Number.isNaN(j)){x=!0,a+=j,d+=j;return}}if(g.endsWith("%")){const j=parseFloat(g.slice(0,-1));if(!Number.isNaN(j)&&f&&f>0){a+=j/100*f;return}}a+=e}),m&&(a+=40,d+=40),re&&f&&f>0&&d>0)return d>f?{cols:l,needsHScroll:!0,tableWidth:Math.ceil(a)+"px"}:{cols:l,needsHScroll:!1,tableWidth:void 0};const E=!!(f&&a>f&&x),h=E?Math.ceil(a)+"px":void 0;return{cols:l,needsHScroll:E,tableWidth:h}},[r,f,m,re,R]),P=ee.useMemo(()=>{const e=typeof R=="number"&&R>0?R:80,n=r.map(l=>{const a=T.cols.find(d=>d.key===l.key)?.width||l.width;if(!a)return e;const x=String(a).trim();if(x.endsWith("px")){const d=parseFloat(x.slice(0,-2));return Number.isNaN(d)?e:d}if(x.endsWith("%")&&f&&f>0){const d=parseFloat(x.slice(0,-1));return Number.isNaN(d)?e:d/100*f}return e}),s=m?40:0,p=new Array(r.length).fill(0);let u=s;for(let l=0;l<r.length;l++)p[l]=u,u+=n[l];const S=new Array(r.length).fill(0);u=0;for(let l=r.length-1;l>=0;l--)S[l]=u,u+=n[l];return{leftOffsets:p,rightOffsets:S}},[r,T,f,m,R]);return t.jsx("div",{className:"beaver-table__wrap",ref:se,style:{overflowX:T.needsHScroll?"auto":void 0,overflowY:C?"auto":void 0,paddingBottom:C?12:void 0,maxHeight:C&&W!=null?typeof W=="number"?`${W}px`:W:void 0},children:t.jsxs("table",{className:`beaver-table ${C?"beaver-table--fixed-header":""}`,style:{tableLayout:de?"fixed":"auto",width:T.tableWidth},children:[de?t.jsxs("colgroup",{children:[m?t.jsx("col",{style:{width:"40px"}},"__select_col__"):null,r.map(e=>{const n=T.cols.find(s=>s.key===e.key)?.width;return t.jsx("col",{style:n?{width:n}:void 0},e.key)})]}):null,t.jsx("thead",{children:t.jsxs("tr",{children:[m?t.jsx("th",{className:`beaver-table__select-col ${v>0?"beaver-table__cell--sticky beaver-table__cell--sticky--left beaver-table__cell--sticky-edge-left":""}`,style:C?{top:ne,...v>0?{left:0}:{}}:v>0?{position:"sticky",left:0}:void 0,children:t.jsx("span",{onClick:e=>e.stopPropagation(),children:t.jsx(ue,{"aria-label":"select-all",checked:ie,indeterminate:ge,onChange:e=>ye(e.target.checked)})})}):null,r.map((e,n)=>{const s=e.align??c??"left",p=T.cols.find(x=>x.key===e.key)?.width,u=v>0&&n<v,S=q>0&&n>=r.length-q,l={},a=[];return u&&(l.position="sticky",l.left=P.leftOffsets[n],a.push("beaver-table__cell--sticky","beaver-table__cell--sticky--left"),n===v-1&&a.push("beaver-table__cell--sticky-edge-left")),S&&(l.position="sticky",l.right=P.rightOffsets[n],a.push("beaver-table__cell--sticky","beaver-table__cell--sticky--right"),n===r.length-q&&a.push("beaver-table__cell--sticky-edge-right")),t.jsx("th",{style:{width:p??e.width,textAlign:s,...C?{top:ne}:{},...l},className:`beaver-table__th beaver-table__th--${s} ${a.join(" ")}`,children:e.title},e.key)})]})}),t.jsx("tbody",{children:(()=>{const e={};return i.map((n,s)=>{const p=String(n[b]??s),u=!!M[p],S=[u?"beaver-table__row--selected":"",m?"beaver-table__row--clickable":""].filter(Boolean).join(" "),l=[];m&&l.push(t.jsx("td",{className:`beaver-table__select-col ${v>0?"beaver-table__cell--sticky beaver-table__cell--sticky--left beaver-table__cell--sticky-edge-left":""}`,style:v>0?{position:"sticky",left:0}:void 0,children:t.jsx("span",{onClick:a=>a.stopPropagation(),children:t.jsx(ue,{checked:u,onChange:a=>oe(p,a.target.checked)})})},`__select_${p}`));for(let a=0;a<r.length;a++){const x=`${s}-${a}`;if(e[x])continue;const d=r[a],E=d.align??c??"left";let h=n[d.key],y=h,o=1,g=1;if(h&&typeof h=="object"&&("colSpan"in h||"rowSpan"in h||"value"in h)&&("value"in h&&(y=h.value),"colSpan"in h&&(o=Math.max(1,Number(h.colSpan)||1)),"rowSpan"in h&&(g=Math.max(1,Number(h.rowSpan)||1))),typeof d.span=="function")try{const _=d.span(n,s,d);_&&(_.colSpan!=null&&(o=Math.max(1,Number(_.colSpan)||1)),_.rowSpan!=null&&(g=Math.max(1,Number(_.rowSpan)||1)))}catch{}o=Math.min(o,r.length-a),g=Math.min(g,i.length-s);for(let _=s;_<s+g;_++)for(let F=a;F<a+o;F++){const he=`${_}-${F}`;_===s&&F===a||(e[he]=!0)}const j=typeof d.render=="function"?d.render(y,n,s,d):void 0,ce=j==null&&typeof te=="function"?te(n,d,s):void 0;l.push(t.jsx("td",{className:`beaver-table__td beaver-table__td--${E} ${v>0&&a<v?"beaver-table__cell--sticky beaver-table__cell--sticky--left"+(a===v-1?" beaver-table__cell--sticky-edge-left":""):q>0&&a>=r.length-q?"beaver-table__cell--sticky beaver-table__cell--sticky--right"+(a===r.length-q?" beaver-table__cell--sticky-edge-right":""):""}`,style:{textAlign:E,...v>0&&a<v?{position:"sticky",left:P.leftOffsets[a]}:{},...q>0&&a>=r.length-q?{position:"sticky",right:P.rightOffsets[a]}:{}},...o>1?{colSpan:o}:{},...g>1?{rowSpan:g}:{},children:j??ce??y},`${d.key}_${a}`))}return t.jsx("tr",{className:S,onClick:a=>{a.target.closest("input,button,a,textarea,select,.beaver-checkbox,.beaver-checkbox-wrapper,.beaver-checkbox-input")||m&&oe(p,!u)},children:l},p)})})()})]})})};k.__docgenInfo={description:"",methods:[],displayName:"Table",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string;
  align?: 'left' | 'center' | 'right';
  /** 可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容 */
  render?: (value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined;
  /** 可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan */
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"string",required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1},description:"可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容"},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1},description:"可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan"}]}}],raw:"Column[]"},description:"列定义"},data:{required:!0,tsType:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Row[]"},description:"行数据"},rowKey:{required:!1,tsType:{name:"string"},description:"行唯一标识字段",defaultValue:{value:"'id'",computed:!1}},defaultAlign:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:"默认列对齐方式，列自身未配置 align 时使用",defaultValue:{value:"'left'",computed:!1}},showCheckbox:{required:!1,tsType:{name:"boolean"},description:"是否展示行前的复选框（默认 false）",defaultValue:{value:"false",computed:!1}},selectedKeys:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"受控选中 keys（可选）"},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(keys: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"keys"}],return:{name:"void"}}},description:"选中变化回调（受控或非受控时都会触发）"},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: Row, column: Column, rowIndex: number) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string;
  align?: 'left' | 'center' | 'right';
  /** 可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容 */
  render?: (value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined;
  /** 可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan */
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"string",required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1},description:"可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容"},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1},description:"可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan"}]}},name:"column"},{type:{name:"number"},name:"rowIndex"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}}},description:"可选的单元格渲染器：如果返回非 null/undefined，则使用其结果作为单元格内容"},preservePxAsMin:{required:!1,tsType:{name:"boolean"},description:`当混合使用 px 与 百分比/未设置宽度时，是否保证 px 列的最小宽度，且尽量避免滚动（默认 true）。
为 true 时，只有当 px 列总宽超过容器时才触发横向滚动，否则 px 列作为最小宽保留，百分比列保持弹性分配。
为 false 时，则按常规逻辑：只要包含 px 列且总宽超出容器就触发横向滚动。`,defaultValue:{value:"true",computed:!1}},minColumnPx:{required:!1,tsType:{name:"number"},description:"未指定或无法换算宽度时的保守最小像素（默认 80）",defaultValue:{value:"80",computed:!1}},fixedHeader:{required:!1,tsType:{name:"boolean"},description:"是否固定表头（粘性表头），默认 false",defaultValue:{value:"false",computed:!1}},headerOffset:{required:!1,tsType:{name:"number"},description:"表头距离容器顶部的偏移（例如有上方工具栏时），默认 0",defaultValue:{value:"0",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"表格容器最大高度，设置后启用纵向滚动以配合粘性表头。示例：300 或 '50vh'"},fixedColumnCount:{required:!1,tsType:{name:"number"},description:"固定左侧的列数量（不含选择列），默认 0",defaultValue:{value:"0",computed:!1}},fixedRightCount:{required:!1,tsType:{name:"number"},description:"固定右侧的列数量，默认 0",defaultValue:{value:"0",computed:!1}}}};const Be={title:"Components/Table",component:k,argTypes:{columns:{table:{disable:!0}},data:{table:{disable:!0}},rowKey:{table:{disable:!0}},renderCell:{table:{disable:!0}},onSelectionChange:{table:{disable:!0}},selectedKeys:{table:{disable:!0}},showCheckbox:{control:"boolean"},preservePxAsMin:{control:"boolean"},minColumnPx:{control:"number"},fixedHeader:{control:"boolean"},fixedColumnCount:{control:"number"},fixedRightCount:{control:"number"}}},D=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量"},{key:"priceEach",title:"单价"},{key:"orderGoods",title:"订单货物"},{key:"sales",title:"销售额"},{key:"orderDate",title:"订单日期"},{key:"statusName",title:"状态"}],we=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量",align:"center"},{key:"priceEach",title:"单价",align:"right"},{key:"orderGoods",title:"订单货物",align:"center"},{key:"sales",title:"销售额",align:"right"},{key:"orderDate",title:"订单日期",align:"center"},{key:"statusName",title:"状态",align:"center"}],me=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"100px"},{key:"quantityOrdered",title:"订购数量",width:"100px"},{key:"priceEach",title:"单价",width:"100px"},{key:"orderGoods",title:"订单货物",width:"700px"},{key:"sales",title:"销售额",width:"100px"},{key:"orderDate",title:"订单日期",width:"150px"},{key:"statusName",title:"状态",width:"100px"}],ke=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"10%"},{key:"quantityOrdered",title:"订购数量",width:"10%"},{key:"priceEach",title:"单价",width:"10%"},{key:"orderGoods",title:"订单货物",width:"50%"},{key:"sales",title:"销售额",width:"10%"},{key:"orderDate",title:"订单日期",width:"10%"},{key:"statusName",title:"状态",width:"100px"}],w=[{id:1,unique_id:1,orderNumber:10107,quantityOrdered:30,priceEach:95.7,orderGoods:"货物1, 货物2",sales:2871,orderDate:"2025-01-15",status:"Disputed",statusName:"待处理"},{id:2,unique_id:2,orderNumber:10121,quantityOrdered:34,priceEach:81.35,orderGoods:"货物3, 货物4",sales:2765.9,orderDate:"2025-01-16",status:"Shipped",statusName:"已发货"},{id:3,unique_id:3,orderNumber:10134,quantityOrdered:41,priceEach:94.74,orderGoods:"货物5, 货物6",sales:3884.34,orderDate:"2025-01-17",status:"In Process",statusName:"处理中"},{id:4,unique_id:4,orderNumber:10145,quantityOrdered:45,priceEach:83.26,orderGoods:"货物7, 货物8",sales:3746.7,orderDate:"2025-01-18",status:"In Process",statusName:"处理中"},{id:5,unique_id:5,orderNumber:10159,quantityOrdered:49,priceEach:100,orderGoods:"货物9, 货物10",sales:5205.27,orderDate:"2025-01-19",status:"Disputed",statusName:"待处理"},{id:6,unique_id:6,orderNumber:10168,quantityOrdered:36,priceEach:96.66,orderGoods:"货物11, 货物12",sales:3479.76,orderDate:"2025-01-20",status:"Shipped",statusName:"已发货"},{id:7,unique_id:7,orderNumber:10180,quantityOrdered:29,priceEach:86.13,orderGoods:"货物17, 货物18",sales:2497.77,orderDate:"2025-01-21",status:"Disputed",statusName:"待处理"},{id:8,unique_id:8,orderNumber:10188,quantityOrdered:48,priceEach:100,orderGoods:"货物19, 货物20",sales:5512.32,orderDate:"2025-01-22",status:"Disputed",statusName:"待处理"}],pe=`
  .user-status {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 14px;
    font-size: 13px;
    border: 1px solid rgba(0,0,0,0.06);
    background: #fff;
  }
  .user-status--disputed {
    color: #c0392b;
    border-color: rgba(192,57,43,0.15);
    background: rgba(192,57,43,0.04);
  }
  .user-status--shipped {
    color: #1e90ff;
    border-color: rgba(30,144,255,0.15);
    background: rgba(30,144,255,0.04);
  }
  .user-status--inprocess {
    color: #16a34a;
    border-color: rgba(22,163,74,0.12);
    background: rgba(22,163,74,0.04);
  }
  `,ve=r=>t.jsx(k,{columns:D,data:w,rowKey:"id",...r}),$={name:"默认",render:ve,args:{}},xe=r=>t.jsx(k,{columns:D,data:w,rowKey:"id",...r}),B={name:"带复选框",render:xe,args:{showCheckbox:!0}},Se=r=>t.jsx(k,{columns:we,data:w,rowKey:"id",...r}),V={name:"对齐方式",render:Se,args:{}},_e=r=>{const[i,b]=ee.useState(["1"]);return t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:["Selected: ",i.join(", ")||"(none)"]}),t.jsx(k,{columns:D,data:w,rowKey:"id",selectedKeys:i,onSelectionChange:c=>b(c),...r})]})},G={name:"受控选择",render:_e,args:{showCheckbox:!0}},Ne=r=>t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:[t.jsx("p",{children:"自定义宽度示例"}),t.jsx("p",{children:"可以尝试更改 preservePxAsMin 参数查看"}),t.jsx("p",{children:"preservePxAsMin = false：只要包含 px 列且总宽超出容器就触发横向滚动"})]}),t.jsx(k,{columns:ke,data:w,rowKey:"id",showCheckbox:!0,...r})]}),K={name:"自定义宽度",render:Ne,args:{preservePxAsMin:!0,minColumnPx:80}},je=r=>{const i=Array.from({length:20}).flatMap((b,c)=>w.map((m,N)=>({...m,id:m.id+c*w.length,unique_id:m.unique_id+c*w.length})));return t.jsx(k,{columns:D,data:i,rowKey:"id",fixedHeader:!0,maxHeight:240,...r})},H={name:"固定表头",render:je,args:{}},Re=r=>t.jsx(k,{columns:me,data:w,rowKey:"id",showCheckbox:!0,fixedColumnCount:3,fixedRightCount:2,...r}),L={name:"左右固定列",render:Re,args:{}},qe=r=>{const i=Array.from({length:20}).flatMap((b,c)=>w.map((m,N)=>({...m,id:m.id+c*w.length,unique_id:m.unique_id+c*w.length})));return t.jsx(k,{columns:me,data:i,rowKey:"id",showCheckbox:!0,fixedHeader:!0,fixedColumnCount:2,maxHeight:240,...r})},X={name:"固定表头 & 左列",render:qe,args:{}},Ce=r=>t.jsxs("div",{children:[t.jsx("style",{children:pe}),t.jsx(k,{columns:D,data:w,rowKey:"id",renderCell:(i,b)=>{if(b.key==="statusName"){const c=String(i.status).toLowerCase().replace(/\s+/g,"");return t.jsx("span",{className:`user-status user-status--${c}`,children:i.statusName})}return b.key==="orderDate"?new Date(i.orderDate).toLocaleDateString():i[b.key]},...r})]}),z={name:"renderCell渲染",render:Ce,args:{}},Te=r=>{const i=D.map(b=>b.key==="statusName"?{...b,render:(c,m)=>{const N=String(m.status).toLowerCase().replace(/\s+/g,"");return t.jsx("span",{className:`user-status user-status--${N}`,children:c})}}:b);return t.jsxs("div",{children:[t.jsx("style",{children:pe}),t.jsx(k,{columns:i,data:w,rowKey:"id",...r})]})},U={name:"列级渲染",render:Te,args:{}},De=[{key:"a",title:"列 A"},{key:"b",title:"列 B"},{key:"c",title:"列 C"},{key:"d",title:"列 D"},{key:"e",title:"列 E"}],Ae=[{id:"v1",a:{value:"A: rowspan 2",rowSpan:2},b:{value:"B: colspan 3",colSpan:3},c:"",d:"",e:"E1"},{id:"v2",b:"should be covered",c:"should be covered",d:"should be covered",e:{value:"E2",colSpan:1}},{id:"v3",a:"A3",b:"B3",c:{value:"C: colspan 2",colSpan:2},d:"",e:"E3"},{id:"v4",a:"A4",b:"B4",c:"C4",d:"D4",e:"E4"}],Ee=r=>t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:["更明显的跨行/跨列示例，使用 ",t.jsx("code",{children:"{ value, colSpan, rowSpan }"}),"，并通过 ",t.jsx("code",{children:"renderCell"})," ","高亮合并单元格。"]}),t.jsx(k,{columns:De,data:Ae,rowKey:"id",renderCell:(i,b)=>{const c=i[b.key];if(c&&typeof c=="object"&&("colSpan"in c||"rowSpan"in c||"value"in c)){const N=c;return t.jsx("div",{style:{background:"rgba(14, 165, 233, 0.12)",padding:"10px 12px",borderRadius:6},children:N.value??""})}return i[b.key]},...r})]}),Y={name:"跨行/跨列 - 可视化示例",render:Ee,args:{}},Ie=[{key:"name",title:"名称",span:(r,i)=>i===0?{rowSpan:2}:void 0},{key:"info",title:"信息"},{key:"extra",title:"额外"}],Oe=[{id:"c1",name:"合并的名称",info:"info1",extra:"extra1"},{id:"c2",name:"被覆盖",info:"info2",extra:"extra2"},{id:"c3",name:"正常",info:"info3",extra:"extra3"}],We=r=>t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:["演示如何在列定义中通过 ",t.jsx("code",{children:"span"})," 回调控制 rowSpan/colSpan。"]}),t.jsx(k,{columns:Ie,data:Oe,rowKey:"id",...r})]}),J={name:"列级 span 回调 示例",render:We,args:{}};$.parameters={...$.parameters,docs:{...$.parameters?.docs,source:{originalSource:`{
  name: '默认',
  render: DefaultTemplate,
  args: {}
}`,...$.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  name: '带复选框',
  render: WithCheckboxesTemplate,
  args: {
    showCheckbox: true
  }
}`,...B.parameters?.docs?.source}}};V.parameters={...V.parameters,docs:{...V.parameters?.docs,source:{originalSource:`{
  name: '对齐方式',
  render: AlignDemoTemplate,
  args: {}
}`,...V.parameters?.docs?.source}}};G.parameters={...G.parameters,docs:{...G.parameters?.docs,source:{originalSource:`{
  name: '受控选择',
  render: ControlledSelectionTemplate,
  args: {
    showCheckbox: true
  }
}`,...G.parameters?.docs?.source}}};K.parameters={...K.parameters,docs:{...K.parameters?.docs,source:{originalSource:`{
  name: '自定义宽度',
  render: MixTemplate,
  args: {
    preservePxAsMin: true,
    minColumnPx: 80
  }
}`,...K.parameters?.docs?.source}}};H.parameters={...H.parameters,docs:{...H.parameters?.docs,source:{originalSource:`{
  name: '固定表头',
  render: FixedHeaderTemplate,
  args: {}
}`,...H.parameters?.docs?.source}}};L.parameters={...L.parameters,docs:{...L.parameters?.docs,source:{originalSource:`{
  name: '左右固定列',
  render: FixedBothSidesTemplate,
  args: {}
}`,...L.parameters?.docs?.source}}};X.parameters={...X.parameters,docs:{...X.parameters?.docs,source:{originalSource:`{
  name: '固定表头 & 左列',
  render: FixedHeaderAndColumnsTemplate,
  args: {}
}`,...X.parameters?.docs?.source}}};z.parameters={...z.parameters,docs:{...z.parameters?.docs,source:{originalSource:`{
  name: 'renderCell渲染',
  render: RenderCellInjectedStylesTemplate,
  args: {}
}`,...z.parameters?.docs?.source}}};U.parameters={...U.parameters,docs:{...U.parameters?.docs,source:{originalSource:`{
  name: '列级渲染',
  render: ColumnLevelRenderTemplate,
  args: {}
}`,...U.parameters?.docs?.source}}};Y.parameters={...Y.parameters,docs:{...Y.parameters?.docs,source:{originalSource:`{
  name: '跨行/跨列 - 可视化示例',
  render: VisibleSpanTemplate,
  args: {}
}`,...Y.parameters?.docs?.source}}};J.parameters={...J.parameters,docs:{...J.parameters?.docs,source:{originalSource:`{
  name: '列级 span 回调 示例',
  render: ColumnSpanTemplate,
  args: {}
}`,...J.parameters?.docs?.source}}};const Ve=["Default","WithCheckboxes","AlignDemo","ControlledSelection","CustomWidths","FixedHeader","FixedBothSides","FixedHeaderAndColumns","RenderCellInjectedStyles","ColumnLevelRender","VisibleSpan","ColumnSpanAPI"];export{V as AlignDemo,U as ColumnLevelRender,J as ColumnSpanAPI,G as ControlledSelection,K as CustomWidths,$ as Default,L as FixedBothSides,H as FixedHeader,X as FixedHeaderAndColumns,z as RenderCellInjectedStyles,Y as VisibleSpan,B as WithCheckboxes,Ve as __namedExportsOrder,Be as default};
