import{j as r}from"./jsx-runtime-u17CrQMm.js";import{r as S,R as ce}from"./iframe-B59VdXF_.js";import{C as We}from"./Checkbox-BPUQtZCd.js";import"./preload-helper-PPVm8Dsz.js";const x=({columns:t,data:u,rowKey:b="id",defaultAlign:m="left",showCheckbox:l=!1,selectedKeys:_,onSelectionChange:I,renderCell:ye,preservePxAsMin:ge=!0,minColumnPx:R=80,fixedHeader:q=!1,headerOffset:be=0,maxHeight:B,fixedColumnCount:Me=0,fixedRightCount:Ee=0,border:xe=!1})=>{const[we,ue]=S.useState({}),H=Array.isArray(_),$=S.useRef(null),[f,ve]=S.useState(null),[De,ke]=S.useState(!1),[He,Se]=S.useState(!1),[$e,Ce]=S.useState(!1),[_e,Re]=S.useState(0),[Ie,Ne]=S.useState(0),[Be,O]=S.useState(0);S.useLayoutEffect(()=>{const e=$.current;if(!e)return;ve(e.clientWidth||null);const a=new ResizeObserver(()=>{ve(e.clientWidth||null)});return a.observe(e),()=>a.disconnect()},[]);const P=S.useMemo(()=>{if(H){const e={};return _.forEach(a=>e[a]=!0),e}return we},[H,_,we]),me=e=>{const a=Object.keys(e).filter(o=>e[o]);I?.(a)},je=(e,a)=>{if(H){const o=new Set(_),h=o.has(e),i=new Set(o);typeof a=="boolean"?a?i.add(e):i.delete(e):h?i.delete(e):i.add(e);const d=Array.from(i);I?.(d);return}ue(o=>{const h=typeof a=="boolean"?{...o,[e]:a}:{...o,[e]:!o[e]};return me(h),h})},Oe=e=>{if(e){const a={};u.forEach((o,h)=>{const i=String(o[b]??h);a[i]=!0}),H?I?.(Object.keys(a)):(ue(a),me(a));return}H?I?.([]):(ue({}),me({}))},Pe=u.length,Le=Object.keys(P).reduce((e,a)=>P[a]?e+1:e,0),qe=Pe>0&&u.every((e,a)=>!!P[String(e[b]??a)]),Ke=Le>0&&!qe,Te=t.some(e=>!!e.width),F=ce.useMemo(()=>{const e=typeof R=="number"&&R>0?R:80,a=t.map(g=>{const c=g.width?.trim();if(c&&c.endsWith("%")){const k=parseFloat(c.slice(0,-1));if(!Number.isNaN(k))return{key:g.key,raw:c,kind:"percent",value:k}}return{key:g.key,raw:c??void 0,kind:"other"}}),o=a.reduce((g,c)=>g+(c.kind==="percent"&&c.value?c.value:0),0),h=a.filter(g=>g.kind==="other"&&!g.raw).length,i=f&&f>0?h*e*100/f:h*3,d=Math.max(0,100-i);let s;if(o>0&&o>d){const g=d/o;s=a.map(c=>c.kind==="percent"&&c.value?{key:c.key,width:`${(c.value*g).toFixed(4).replace(/\.0+$/,"")}%`}:{key:c.key,width:c.raw})}else s=a.map(g=>({key:g.key,width:g.raw}));let n=0,C=!1,p=0;if(s.forEach(g=>{const c=g.width;if(!c){n+=e;return}const k=c.trim();if(k.endsWith("px")){const T=parseFloat(k.slice(0,-2));if(!Number.isNaN(T)){C=!0,n+=T,p+=T;return}}if(k.endsWith("%")){const T=parseFloat(k.slice(0,-1));if(!Number.isNaN(T)&&f&&f>0){n+=T/100*f;return}}n+=e}),l&&(n+=40,p+=40),ge&&f&&f>0&&p>0)return p>f?{cols:s,needsHScroll:!0,tableWidth:Math.ceil(n)+"px"}:{cols:s,needsHScroll:!1,tableWidth:void 0};const M=!!(f&&n>f&&C),w=M?Math.ceil(n)+"px":void 0;return{cols:s,needsHScroll:M,tableWidth:w}},[t,f,l,ge,R]),pe=t.length;let W=Math.max(0,Math.min(Me,pe)),A=Math.max(0,Math.min(Ee,pe));W+A>=pe&&(console.warn("[Beaver-UI-Table] fixedColumnCount + fixedRightCount >= columns.length — disabling fixed columns to avoid overlap"),W=0,A=0),S.useEffect(()=>{const e=$.current;if(!e)return;let a=0;const o=()=>{cancelAnimationFrame(a),a=requestAnimationFrame(()=>{const d=e.scrollLeft||0,s=Math.max(0,e.scrollWidth-e.clientWidth);ke(v>0&&d>0),Se(N>0&&d<s-1);const n=v>0||N>0,C=d>0&&d<s-1;Ce(!q&&n&&C);const p=Math.max(0,e.offsetHeight-e.clientHeight);Re(p);const M=Math.max(0,e.offsetWidth-e.clientWidth);Ne(M);try{const w=e.querySelector("table"),g=w?w.querySelector("thead"):null,c=q&&g?g.offsetHeight:0;O(c)}catch{O(0)}})},h=Math.max(0,e.scrollWidth-e.clientWidth);ke(!1),Se(N>0&&h>1),Ce(!1),Re(Math.max(0,e.offsetHeight-e.clientHeight)),Ne(Math.max(0,e.offsetWidth-e.clientWidth));try{const d=e.querySelector("table"),s=d?d.querySelector("thead"):null,n=q&&s?s.offsetHeight:0;O(n)}catch{O(0)}e.addEventListener("scroll",o,{passive:!0});const i=new ResizeObserver(()=>{o()});return i.observe(e),()=>{e.removeEventListener("scroll",o),i.disconnect(),cancelAnimationFrame(a)}},[f,F.tableWidth,W,A]);const L=ce.useMemo(()=>{const e=typeof R=="number"&&R>0?R:80,a=t.map(s=>{const n=F.cols.find(p=>p.key===s.key)?.width||s.width;if(!n)return e;const C=String(n).trim();if(C.endsWith("px")){const p=parseFloat(C.slice(0,-2));return Number.isNaN(p)?e:p}if(C.endsWith("%")&&f&&f>0){const p=parseFloat(C.slice(0,-1));return Number.isNaN(p)?e:p/100*f}return e}),o=l?40:0,h=new Array(t.length).fill(0);let i=o;for(let s=0;s<t.length;s++)h[s]=i,i+=a[s];const d=new Array(t.length).fill(0);i=0;for(let s=t.length-1;s>=0;s--)d[s]=i,i+=a[s];return{leftOffsets:h,rightOffsets:d}},[t,F,f,l,R]),{leftStickyWidth:K,rightStickyWidth:V}=ce.useMemo(()=>{const e=typeof R=="number"&&R>0?R:80,a=i=>{const d=F.cols.find(n=>n.key===i.key)?.width||i.width;if(!d)return e;const s=String(d).trim();if(s.endsWith("px")){const n=parseFloat(s.slice(0,-2));return Number.isNaN(n)?e:n}if(s.endsWith("%")&&f&&f>0){const n=parseFloat(s.slice(0,-1));return Number.isNaN(n)?e:n/100*f}return e};let o=0;l&&(o+=40);for(let i=0;i<Math.max(0,W);i++){const d=t[i];if(!d)break;o+=a(d)}let h=0;for(let i=t.length-1;i>=t.length-A;i--){const d=t[i];if(!d)break;h+=a(d)}return{leftStickyWidth:Math.ceil(o),rightStickyWidth:Math.ceil(h)}},[t,F,f,l,W,A,R]),[v,he]=S.useState(W),[N,fe]=S.useState(A);return S.useEffect(()=>{const e=f??($.current?$.current.clientWidth:null);if(e==null){he(W),fe(A);return}K+V>=e?(v===0&&N===0||console.warn(`[Beaver-UI-Table] fixed columns disabled: leftStickyWidth(${K}) + rightStickyWidth(${V}) >= containerWidth(${e})`),he(0),fe(0)):(he(W),fe(A))},[f,K,V,W,A]),r.jsx("div",{className:`beaver-table__frame ${De?"has-left-shadow":""} ${He?"has-right-shadow":""} ${q?"beaver-table__frame--fixed-header":""}`,style:{"--beaver-table-left-sticky-width":`${K}px`,"--beaver-table-right-sticky-width":`${V}px`,"--beaver-table-scrollbar-height":`${_e}px`,"--beaver-table-scrollbar-width":`${Ie}px`,"--beaver-table-header-height":`${Be}px`,"--beaver-table-scrollable-height":`calc(100% - ${_e}px)`},children:r.jsx("div",{className:`beaver-table__wrap ${xe?"beaver-table__wrap--bordered":""}`,ref:$,style:{overflowX:F.needsHScroll?"auto":void 0,overflowY:q?"auto":void 0,paddingBottom:q?12:void 0,maxHeight:q&&B!=null?typeof B=="number"?`${B}px`:B:void 0},children:r.jsxs("table",{className:`beaver-table ${q?"beaver-table--fixed-header":""} ${xe?"beaver-table--bordered":""} ${$e?"beaver-table--column-edge-shadow":""}`,style:{tableLayout:Te?"fixed":"auto",width:F.tableWidth},children:[Te?r.jsxs("colgroup",{children:[l?r.jsx("col",{style:{width:"40px"}},"__select_col__"):null,t.map(e=>{const a=F.cols.find(o=>o.key===e.key)?.width;return r.jsx("col",{style:a?{width:a}:void 0},e.key)})]}):null,r.jsx("thead",{children:r.jsxs("tr",{children:[l?r.jsx("th",{className:`beaver-table__select-col ${v>0?"beaver-table__cell--sticky beaver-table__cell--sticky--left beaver-table__cell--sticky-edge-left":""}`,style:q?{position:"sticky",top:be,...v>0?{left:0}:{}}:v>0?{position:"sticky",left:0}:void 0,children:r.jsx("span",{onClick:e=>e.stopPropagation(),children:r.jsx(We,{"aria-label":"select-all",checked:qe,indeterminate:Ke,onChange:e=>Oe(e.target.checked)})})}):null,t.map((e,a)=>{const o=e.align??m??"left",h=F.cols.find(C=>C.key===e.key)?.width,i=v>0&&a<v,d=N>0&&a>=t.length-N,s={},n=[];return i&&(s.position="sticky",s.left=L.leftOffsets[a],n.push("beaver-table__cell--sticky","beaver-table__cell--sticky--left"),a===v-1&&n.push("beaver-table__cell--sticky-edge-left")),d&&(s.position="sticky",s.right=L.rightOffsets[a],n.push("beaver-table__cell--sticky","beaver-table__cell--sticky--right"),a===t.length-N&&n.push("beaver-table__cell--sticky-edge-right")),r.jsx("th",{style:{width:h??e.width,textAlign:o,...q?{top:be}:{},...s},className:`beaver-table__th beaver-table__th--${o} ${n.join(" ")}`,children:e.title},e.key)})]})}),r.jsx("tbody",{children:(()=>{const e={};return u.map((a,o)=>{const h=String(a[b]??o),i=!!P[h],d=[i?"beaver-table__row--selected":"",l?"beaver-table__row--clickable":""].filter(Boolean).join(" "),s=[];l&&s.push(r.jsx("td",{className:`beaver-table__select-col ${v>0?"beaver-table__cell--sticky beaver-table__cell--sticky--left beaver-table__cell--sticky-edge-left":""}`,style:v>0?{position:"sticky",left:0}:void 0,children:r.jsx("span",{onClick:n=>n.stopPropagation(),children:r.jsx(We,{checked:i,onChange:n=>je(h,n.target.checked)})})},`__select_${h}`));for(let n=0;n<t.length;n++){const C=`${o}-${n}`;if(e[C])continue;const p=t[n],M=p.align??m??"left";let w=a[p.key],g=w,c=1,k=1;if(w&&typeof w=="object"&&("colSpan"in w||"rowSpan"in w||"value"in w)&&("value"in w&&(g=w.value),"colSpan"in w&&(c=Math.max(1,Number(w.colSpan)||1)),"rowSpan"in w&&(k=Math.max(1,Number(w.rowSpan)||1))),typeof p.span=="function")try{const j=p.span(a,o,p);j&&(j.colSpan!=null&&(c=Math.max(1,Number(j.colSpan)||1)),j.rowSpan!=null&&(k=Math.max(1,Number(j.rowSpan)||1)))}catch{}c=Math.min(c,t.length-n),k=Math.min(k,u.length-o);for(let j=o;j<o+k;j++)for(let G=n;G<n+c;G++){const Ve=`${j}-${G}`;j===o&&G===n||(e[Ve]=!0)}const T=typeof p.render=="function"?p.render(g,a,o,p):void 0,Fe=T==null&&typeof ye=="function"?ye(a,p,o):void 0;s.push(r.jsx("td",{className:`beaver-table__td beaver-table__td--${M} ${v>0&&n<v?"beaver-table__cell--sticky beaver-table__cell--sticky--left"+(n===v-1?" beaver-table__cell--sticky-edge-left":""):N>0&&n>=t.length-N?"beaver-table__cell--sticky beaver-table__cell--sticky--right"+(n===t.length-N?" beaver-table__cell--sticky-edge-right":""):""}`,style:{textAlign:M,...v>0&&n<v?{position:"sticky",left:L.leftOffsets[n]}:{},...N>0&&n>=t.length-N?{position:"sticky",right:L.rightOffsets[n]}:{}},...c>1?{colSpan:c}:{},...k>1?{rowSpan:k}:{},children:T??Fe??g},`${p.key}_${n}`))}return r.jsx("tr",{className:d,onClick:n=>{n.target.closest("input,button,a,textarea,select,.beaver-checkbox,.beaver-checkbox-wrapper,.beaver-checkbox-input")||l&&je(h,!i)},children:s},h)})})()})]})})})};x.__docgenInfo={description:"",methods:[],displayName:"Table",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string;
  align?: 'left' | 'center' | 'right';
  /** 可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容 */
  render?: (value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined;
  /** 可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan */
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"string",required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1},description:"可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容"},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1},description:"可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan"}]}}],raw:"Column[]"},description:"列定义"},data:{required:!0,tsType:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Row[]"},description:"行数据"},rowKey:{required:!1,tsType:{name:"string"},description:"行唯一标识字段",defaultValue:{value:"'id'",computed:!1}},defaultAlign:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:"默认列对齐方式，列自身未配置 align 时使用",defaultValue:{value:"'left'",computed:!1}},showCheckbox:{required:!1,tsType:{name:"boolean"},description:"是否展示行前的复选框（默认 false）",defaultValue:{value:"false",computed:!1}},selectedKeys:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"受控选中 keys（可选）"},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(keys: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"keys"}],return:{name:"void"}}},description:"选中变化回调（受控或非受控时都会触发）"},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: Row, column: Column, rowIndex: number) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string;
  align?: 'left' | 'center' | 'right';
  /** 可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容 */
  render?: (value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined;
  /** 可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan */
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"string",required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1},description:"可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容"},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1},description:"可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan"}]}},name:"column"},{type:{name:"number"},name:"rowIndex"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}}},description:"可选的单元格渲染器：如果返回非 null/undefined，则使用其结果作为单元格内容"},preservePxAsMin:{required:!1,tsType:{name:"boolean"},description:`当混合使用 px 与 百分比/未设置宽度时，是否保证 px 列的最小宽度，且尽量避免滚动（默认 true）。
为 true 时，只有当 px 列总宽超过容器时才触发横向滚动，否则 px 列作为最小宽保留，百分比列保持弹性分配。
为 false 时，则按常规逻辑：只要包含 px 列且总宽超出容器就触发横向滚动。`,defaultValue:{value:"true",computed:!1}},minColumnPx:{required:!1,tsType:{name:"number"},description:"未指定或无法换算宽度时的保守最小像素（默认 80）",defaultValue:{value:"80",computed:!1}},fixedHeader:{required:!1,tsType:{name:"boolean"},description:"是否固定表头，默认 false",defaultValue:{value:"false",computed:!1}},headerOffset:{required:!1,tsType:{name:"number"},description:"表头距离容器顶部的偏移（例如有上方工具栏时），默认 0",defaultValue:{value:"0",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"表格容器最大高度，设置后启用纵向滚动以配合粘性表头。示例：300 或 '50vh'"},fixedColumnCount:{required:!1,tsType:{name:"number"},description:`固定左侧的列数量（不含复选框列），默认 0。
注意：固定列数量之和要小于总列数，否则为了避免重叠，超出时会自动禁用固定列；
且当固定列宽度之和超过容器宽度时也会自动禁用固定列并打印警告。`,defaultValue:{value:"0",computed:!1}},fixedRightCount:{required:!1,tsType:{name:"number"},description:`固定右侧的列数量，默认 0。
注意：固定列数量之和要小于总列数，否则为了避免重叠，超出时会自动禁用固定列；
且当固定列宽度之和超过容器宽度时也会自动禁用固定列并打印警告。`,defaultValue:{value:"0",computed:!1}},border:{required:!1,tsType:{name:"boolean"},description:"是否展示边框线，默认不展示",defaultValue:{value:"false",computed:!1}}}};const xt={title:"Components/Table",component:x,argTypes:{columns:{table:{disable:!0}},data:{table:{disable:!0}},rowKey:{table:{disable:!0}},renderCell:{table:{disable:!0}},onSelectionChange:{table:{disable:!0}},selectedKeys:{table:{disable:!0}},showCheckbox:{control:"boolean"},preservePxAsMin:{control:"boolean"},minColumnPx:{control:"number"},fixedHeader:{control:"boolean"},fixedColumnCount:{control:"number"},fixedRightCount:{control:"number"}}},E=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量"},{key:"priceEach",title:"单价"},{key:"orderGoods",title:"订单货物"},{key:"sales",title:"销售额"},{key:"orderDate",title:"订单日期"},{key:"statusName",title:"状态"}],Ge=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量",align:"center"},{key:"priceEach",title:"单价",align:"right"},{key:"orderGoods",title:"订单货物",align:"center"},{key:"sales",title:"销售额",align:"right"},{key:"orderDate",title:"订单日期",align:"center"},{key:"statusName",title:"状态",align:"center"}],D=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"100px"},{key:"quantityOrdered",title:"订购数量",width:"100px"},{key:"priceEach",title:"单价",width:"100px"},{key:"orderGoods",title:"订单货物",width:"700px"},{key:"sales",title:"销售额",width:"100px"},{key:"orderDate",title:"订单日期",width:"150px"},{key:"statusName",title:"状态",width:"100px"}],Ue=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"10%"},{key:"quantityOrdered",title:"订购数量",width:"10%"},{key:"priceEach",title:"单价",width:"10%"},{key:"orderGoods",title:"订单货物",width:"50%"},{key:"sales",title:"销售额",width:"10%"},{key:"orderDate",title:"订单日期",width:"10%"},{key:"statusName",title:"状态",width:"100px"}],y=[{id:1,unique_id:1,orderNumber:10107,quantityOrdered:30,priceEach:95.7,orderGoods:"货物1, 货物2",sales:2871,orderDate:"2025-01-15",status:"Disputed",statusName:"待处理"},{id:2,unique_id:2,orderNumber:10121,quantityOrdered:34,priceEach:81.35,orderGoods:"货物3, 货物4",sales:2765.9,orderDate:"2025-01-16",status:"Shipped",statusName:"已发货"},{id:3,unique_id:3,orderNumber:10134,quantityOrdered:41,priceEach:94.74,orderGoods:"货物5, 货物6",sales:3884.34,orderDate:"2025-01-17",status:"In Process",statusName:"处理中"},{id:4,unique_id:4,orderNumber:10145,quantityOrdered:45,priceEach:83.26,orderGoods:"货物7, 货物8",sales:3746.7,orderDate:"2025-01-18",status:"In Process",statusName:"处理中"},{id:5,unique_id:5,orderNumber:10159,quantityOrdered:49,priceEach:100,orderGoods:"货物9, 货物10",sales:5205.27,orderDate:"2025-01-19",status:"Disputed",statusName:"待处理"},{id:6,unique_id:6,orderNumber:10168,quantityOrdered:36,priceEach:96.66,orderGoods:"货物11, 货物12",sales:3479.76,orderDate:"2025-01-20",status:"Shipped",statusName:"已发货"},{id:7,unique_id:7,orderNumber:10180,quantityOrdered:29,priceEach:86.13,orderGoods:"货物17, 货物18",sales:2497.77,orderDate:"2025-01-21",status:"Disputed",statusName:"待处理"},{id:8,unique_id:8,orderNumber:10188,quantityOrdered:48,priceEach:100,orderGoods:"货物19, 货物20",sales:5512.32,orderDate:"2025-01-22",status:"Disputed",statusName:"待处理"}],Ae=`
  .user-status {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 14px;
    font-size: 13px;
    border: 1px solid rgba(0,0,0,0.06);
    background: #fff;
  }
  .user-status--disputed {
    color: #c0392b;
    border-color: rgba(192,57,43,0.15);
    background: rgba(192,57,43,0.04);
  }
  .user-status--shipped {
    color: #1e90ff;
    border-color: rgba(30,144,255,0.15);
    background: rgba(30,144,255,0.04);
  }
  .user-status--inprocess {
    color: #16a34a;
    border-color: rgba(22,163,74,0.12);
    background: rgba(22,163,74,0.04);
  }
  `,Xe=t=>r.jsx(x,{columns:E,data:y,rowKey:"id",...t}),U={name:"默认",render:Xe,args:{}},ze=t=>r.jsx(x,{columns:E,data:y,rowKey:"id",...t}),X={name:"带复选框",render:ze,args:{showCheckbox:!0}},Ye=t=>r.jsx(x,{columns:Ge,data:y,rowKey:"id",...t}),z={name:"对齐方式",render:Ye,args:{}},Je=t=>{const[u,b]=ce.useState(["1"]);return r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:12},children:["Selected: ",u.join(", ")||"(none)"]}),r.jsx(x,{columns:E,data:y,rowKey:"id",selectedKeys:u,onSelectionChange:m=>b(m),...t})]})},Y={name:"受控选择",render:Je,args:{showCheckbox:!0}},Qe=t=>r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:12},children:[r.jsx("p",{children:"自定义宽度示例"}),r.jsx("p",{children:"可以尝试更改 preservePxAsMin 参数查看"}),r.jsx("p",{children:"preservePxAsMin = false：只要包含 px 列且总宽超出容器就触发横向滚动"})]}),r.jsx(x,{columns:Ue,data:y,rowKey:"id",showCheckbox:!0,...t})]}),J={name:"自定义宽度",render:Qe,args:{preservePxAsMin:!0,minColumnPx:80}},Ze=t=>{const u=Array.from({length:20}).flatMap((b,m)=>y.map((l,_)=>({...l,id:l.id+m*y.length,unique_id:l.unique_id+m*y.length})));return r.jsx(x,{columns:E,data:u,rowKey:"id",fixedHeader:!0,maxHeight:240,...t})},Q={name:"固定表头",render:Ze,args:{}},et=t=>r.jsx(x,{columns:D,data:y,rowKey:"id",fixedColumnCount:2,...t}),Z={name:"左侧固定列",render:et,args:{}},tt=t=>r.jsx(x,{columns:D,data:y,rowKey:"id",fixedRightCount:2,...t}),ee={name:"右侧固定列",render:tt,args:{}},rt=t=>r.jsx(x,{columns:D,data:y,rowKey:"id",showCheckbox:!0,fixedColumnCount:2,fixedRightCount:2,...t}),te={name:"左右固定列",render:rt,args:{}},nt=t=>{const u=Array.from({length:20}).flatMap((b,m)=>y.map((l,_)=>({...l,id:l.id+m*y.length,unique_id:l.unique_id+m*y.length})));return r.jsx(x,{columns:D,data:u,rowKey:"id",showCheckbox:!0,fixedHeader:!0,fixedColumnCount:2,maxHeight:240,...t})},re={name:"固定表头 & 左列",render:nt,args:{}},at=t=>{const u=Array.from({length:20}).flatMap((b,m)=>y.map((l,_)=>({...l,id:l.id+m*y.length,unique_id:l.unique_id+m*y.length})));return r.jsx(x,{columns:D,data:u,rowKey:"id",showCheckbox:!0,fixedHeader:!0,fixedRightCount:2,maxHeight:240,...t})},ne={name:"固定表头 & 右列",render:at,args:{}},st=t=>{const u=Array.from({length:20}).flatMap((b,m)=>y.map((l,_)=>({...l,id:l.id+m*y.length,unique_id:l.unique_id+m*y.length})));return r.jsx(x,{columns:D,data:u,rowKey:"id",showCheckbox:!0,fixedHeader:!0,fixedColumnCount:2,fixedRightCount:2,maxHeight:240,...t})},ae={name:"固定表头 & 左右列",render:st,args:{}},ot=t=>r.jsxs("div",{children:[r.jsxs("p",{children:["通过 ",r.jsx("code",{children:"border"})," 属性控制列之间的竖向分隔线和粘性列的分隔效果。"]}),r.jsx(x,{columns:E,data:y,rowKey:"id",...t})]}),se={name:"border 属性",render:ot,args:{border:!0,showCheckbox:!1}},it=t=>r.jsxs("div",{children:[r.jsx("style",{children:Ae}),r.jsx(x,{columns:E,data:y,rowKey:"id",renderCell:(u,b)=>{if(b.key==="statusName"){const m=String(u.status).toLowerCase().replace(/\s+/g,"");return r.jsx("span",{className:`user-status user-status--${m}`,children:u.statusName})}return b.key==="orderDate"?new Date(u.orderDate).toLocaleDateString():u[b.key]},...t})]}),oe={name:"renderCell渲染",render:it,args:{}},lt=t=>{const u=E.map(b=>b.key==="statusName"?{...b,render:(m,l)=>{const _=String(l.status).toLowerCase().replace(/\s+/g,"");return r.jsx("span",{className:`user-status user-status--${_}`,children:m})}}:b);return r.jsxs("div",{children:[r.jsx("style",{children:Ae}),r.jsx(x,{columns:u,data:y,rowKey:"id",...t})]})},ie={name:"列级渲染",render:lt,args:{}},dt=[{key:"a",title:"列 A"},{key:"b",title:"列 B"},{key:"c",title:"列 C"},{key:"d",title:"列 D"},{key:"e",title:"列 E"}],ct=[{id:"v1",a:{value:"A: rowspan 2",rowSpan:2},b:{value:"B: colspan 3",colSpan:3},c:"",d:"",e:"E1"},{id:"v2",b:"should be covered",c:"should be covered",d:"should be covered",e:{value:"E2",colSpan:1}},{id:"v3",a:"A3",b:"B3",c:{value:"C: colspan 2",colSpan:2},d:"",e:"E3"},{id:"v4",a:"A4",b:"B4",c:"C4",d:"D4",e:"E4"}],ut=t=>r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:12},children:["更明显的跨行/跨列示例，使用 ",r.jsx("code",{children:"{ value, colSpan, rowSpan }"}),"，并通过 ",r.jsx("code",{children:"renderCell"})," ","高亮合并单元格。"]}),r.jsx(x,{columns:dt,data:ct,rowKey:"id",renderCell:(u,b)=>{const m=u[b.key];if(m&&typeof m=="object"&&("colSpan"in m||"rowSpan"in m||"value"in m)){const _=m;return r.jsx("div",{style:{background:"rgba(14, 165, 233, 0.12)",padding:"10px 12px",borderRadius:6},children:_.value??""})}return u[b.key]},...t})]}),le={name:"跨行/跨列 - 可视化示例",render:ut,args:{}},mt=[{key:"name",title:"名称",span:(t,u)=>u===0?{rowSpan:2}:void 0},{key:"info",title:"信息"},{key:"extra",title:"额外"}],pt=[{id:"c1",name:"合并的名称",info:"info1",extra:"extra1"},{id:"c2",name:"被覆盖",info:"info2",extra:"extra2"},{id:"c3",name:"正常",info:"info3",extra:"extra3"}],ht=t=>r.jsxs("div",{children:[r.jsxs("div",{style:{marginBottom:12},children:["演示如何在列定义中通过 ",r.jsx("code",{children:"span"})," 回调控制 rowSpan/colSpan。"]}),r.jsx(x,{columns:mt,data:pt,rowKey:"id",...t})]}),de={name:"列级 span 回调 示例",render:ht,args:{}};U.parameters={...U.parameters,docs:{...U.parameters?.docs,source:{originalSource:`{
  name: '默认',
  render: DefaultTemplate,
  args: {}
}`,...U.parameters?.docs?.source}}};X.parameters={...X.parameters,docs:{...X.parameters?.docs,source:{originalSource:`{
  name: '带复选框',
  render: WithCheckboxesTemplate,
  args: {
    showCheckbox: true
  }
}`,...X.parameters?.docs?.source}}};z.parameters={...z.parameters,docs:{...z.parameters?.docs,source:{originalSource:`{
  name: '对齐方式',
  render: AlignDemoTemplate,
  args: {}
}`,...z.parameters?.docs?.source}}};Y.parameters={...Y.parameters,docs:{...Y.parameters?.docs,source:{originalSource:`{
  name: '受控选择',
  render: ControlledSelectionTemplate,
  args: {
    showCheckbox: true
  }
}`,...Y.parameters?.docs?.source}}};J.parameters={...J.parameters,docs:{...J.parameters?.docs,source:{originalSource:`{
  name: '自定义宽度',
  render: MixTemplate,
  args: {
    preservePxAsMin: true,
    minColumnPx: 80
  }
}`,...J.parameters?.docs?.source}}};Q.parameters={...Q.parameters,docs:{...Q.parameters?.docs,source:{originalSource:`{
  name: '固定表头',
  render: FixedHeaderTemplate,
  args: {}
}`,...Q.parameters?.docs?.source}}};Z.parameters={...Z.parameters,docs:{...Z.parameters?.docs,source:{originalSource:`{
  name: '左侧固定列',
  render: FixedLeftColumnsTemplate,
  args: {}
}`,...Z.parameters?.docs?.source}}};ee.parameters={...ee.parameters,docs:{...ee.parameters?.docs,source:{originalSource:`{
  name: '右侧固定列',
  render: FixedRightColumnsTemplate,
  args: {}
}`,...ee.parameters?.docs?.source}}};te.parameters={...te.parameters,docs:{...te.parameters?.docs,source:{originalSource:`{
  name: '左右固定列',
  render: FixedBothSidesTemplate,
  args: {}
}`,...te.parameters?.docs?.source}}};re.parameters={...re.parameters,docs:{...re.parameters?.docs,source:{originalSource:`{
  name: '固定表头 & 左列',
  render: FixedHeaderAndColumnsTemplate,
  args: {}
}`,...re.parameters?.docs?.source}}};ne.parameters={...ne.parameters,docs:{...ne.parameters?.docs,source:{originalSource:`{
  name: '固定表头 & 右列',
  render: FixedHeaderAndRightColumnsTemplate,
  args: {}
}`,...ne.parameters?.docs?.source}}};ae.parameters={...ae.parameters,docs:{...ae.parameters?.docs,source:{originalSource:`{
  name: '固定表头 & 左右列',
  render: FixedHeaderAndBothSidesTemplate,
  args: {}
}`,...ae.parameters?.docs?.source}}};se.parameters={...se.parameters,docs:{...se.parameters?.docs,source:{originalSource:`{
  name: 'border 属性',
  render: BorderedTemplate,
  args: {
    border: true,
    showCheckbox: false
  }
}`,...se.parameters?.docs?.source}}};oe.parameters={...oe.parameters,docs:{...oe.parameters?.docs,source:{originalSource:`{
  name: 'renderCell渲染',
  render: RenderCellInjectedStylesTemplate,
  args: {}
}`,...oe.parameters?.docs?.source}}};ie.parameters={...ie.parameters,docs:{...ie.parameters?.docs,source:{originalSource:`{
  name: '列级渲染',
  render: ColumnLevelRenderTemplate,
  args: {}
}`,...ie.parameters?.docs?.source}}};le.parameters={...le.parameters,docs:{...le.parameters?.docs,source:{originalSource:`{
  name: '跨行/跨列 - 可视化示例',
  render: VisibleSpanTemplate,
  args: {}
}`,...le.parameters?.docs?.source}}};de.parameters={...de.parameters,docs:{...de.parameters?.docs,source:{originalSource:`{
  name: '列级 span 回调 示例',
  render: ColumnSpanTemplate,
  args: {}
}`,...de.parameters?.docs?.source}}};const wt=["Default","WithCheckboxes","AlignDemo","ControlledSelection","CustomWidths","FixedHeader","FixedLeftColumns","FixedRightColumns","FixedBothSides","FixedHeaderAndColumns","FixedHeaderAndRightColumns","FixedHeaderAndBothSides","Bordered","RenderCellInjectedStyles","ColumnLevelRender","VisibleSpan","ColumnSpanAPI"];export{z as AlignDemo,se as Bordered,ie as ColumnLevelRender,de as ColumnSpanAPI,Y as ControlledSelection,J as CustomWidths,U as Default,te as FixedBothSides,Q as FixedHeader,ae as FixedHeaderAndBothSides,re as FixedHeaderAndColumns,ne as FixedHeaderAndRightColumns,Z as FixedLeftColumns,ee as FixedRightColumns,oe as RenderCellInjectedStyles,le as VisibleSpan,X as WithCheckboxes,wt as __namedExportsOrder,xt as default};
