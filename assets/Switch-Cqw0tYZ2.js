import{j as u}from"./jsx-runtime-u17CrQMm.js";import{R as a,r as k}from"./iframe-Er9CiN3F.js";import{F as S}from"./Form-BcmgbGz8.js";const b=a.forwardRef(({checked:i,defaultChecked:y=!1,onChange:R,onChangeEvent:x,disabled:d=!1,loading:m=!1,size:C="medium",checkedChildren:f,unCheckedChildren:p,className:h,...g},r)=>{const o=i!==void 0,[s,v]=a.useState(()=>o?i:!!y),T=k.useContext(S),l=C??T?.size??"medium",w=a.useRef(null),c=a.useRef(null);a.useEffect(()=>{o&&v(i)},[i,o]),a.useEffect(()=>{if(c.current){const e=w.current?.offsetWidth||0,n=getComputedStyle(c.current),E=parseFloat(n.getPropertyValue("--beaver-switch-half-circle"))||5,N=parseFloat(n.getPropertyValue("--beaver-switch-min-content-width"))||30,j=Math.max(N,E+e+8);c.current.style.setProperty("--switch-actual-content-width",`${j}px`)}},[f,p,l]);const q=e=>{if(d||m)return;const n=!s;o||v(n),R?.(n),x?.(e)},t=["beaver-switch"];return s&&t.push("beaver-switch-checked"),d&&t.push("beaver-switch-disabled"),m&&t.push("beaver-switch-loading"),l&&l!=="medium"&&t.push(`beaver-switch-${l}`),h&&t.push(h),u.jsxs("button",{ref:e=>{c.current=e,typeof r=="function"?r(e):r&&(r.current=e)},role:"switch","aria-checked":s,className:t.join(" "),onClick:q,disabled:d||m,type:"button",...g,children:[u.jsx("div",{className:"beaver-switch-track",children:(s?f:p)&&u.jsx("span",{ref:w,className:"beaver-switch-text",children:s?f:p})}),u.jsx("div",{className:"beaver-switch-thumb"})]})});b.displayName="Switch";b.__docgenInfo={description:"",methods:[],displayName:"Switch",props:{defaultChecked:{required:!1,tsType:{name:"boolean"},description:"非受控模式下的初始值",defaultValue:{value:"false",computed:!1}},checked:{required:!1,tsType:{name:"boolean"},description:"受控模式时传入的布尔值，控制开关状态"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:"状态切换回调，参数为切换后的布尔值"},onChangeEvent:{required:!1,tsType:{name:"ReactFormEventHandler",raw:"React.FormEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:"button的原生事件onChange"},disabled:{required:!1,tsType:{name:"boolean"},description:"禁用开关",defaultValue:{value:"false",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"加载状态",defaultValue:{value:"false",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"尺寸，影响开关轨道与拇指大小（'small' | 'medium' | 'large'）",defaultValue:{value:"'medium'",computed:!1}},checkedChildren:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"在打开时显示的标签节点"},unCheckedChildren:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"在关闭时显示的标签节点"}}};export{b as S};
