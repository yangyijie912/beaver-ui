import{j as a}from"./jsx-runtime-u17CrQMm.js";import{R as i}from"./iframe-CUpoYAUB.js";import{S}from"./Select-BsKh4Z4t.js";import{A as C,a as J}from"./ArrowRight-BvBKt8CZ.js";const $={prev:"上一页",next:"下一页",jumpTo:"跳到",page:"页",itemsPerPage:t=>`${t} / 页`},D={prev:"Previous",next:"Next",jumpTo:"Jump to",page:"",itemsPerPage:t=>`${t} / page`},A=$;function R(t,g){const l=[];for(let p=t;p<=g;p++)l.push(p);return l}const V=({total:t,pageSize:g=10,current:l,onChange:p,pageSizeOptions:N=[10,20,50,100],showQuickJumper:k=!1,showSizeChanger:P=!1,locale:v,align:y="right",disabled:s=!1,width:h})=>{const z=e=>typeof e=="number"?`${e}px`:e,c=i.useMemo(()=>({...A,...v||{}}),[v]),[r,b]=i.useState(l??1),[o,x]=i.useState(g),m=Math.max(1,Math.ceil(t/o));i.useEffect(()=>{typeof l=="number"&&b(l)},[l]),i.useEffect(()=>{x(g)},[g]),i.useEffect(()=>{const e=Math.max(1,Math.ceil(t/o));r>e&&b(e)},[t,o]);const f=(e,n)=>{s||(b(e),typeof p=="function"&&p(e,n??o))},w=()=>{if(m<=7)return R(1,m);const e=[],n=Math.max(2,r-2),u=Math.min(m-1,r+2);e.push(1),n>2&&e.push("...");for(let d=n;d<=u;d++)e.push(d);return u<m-1&&e.push("..."),e.push(m),e},j=i.useRef(null),_=()=>{const e=j.current;if(!e)return;const n=e.value.trim();if(n==="")return;const u=Number(n);if(Number.isFinite(u)){const d=Math.min(Math.max(1,Math.trunc(u)),Math.max(1,Math.ceil(t/o)));f(d)}e.value=""},M=w(),q=i.useMemo(()=>`beaver-pagination beaver-pagination--align-${y}`,[y]),T=i.useMemo(()=>`${q}${s?" beaver-pagination--disabled":""}`,[q,s]);return a.jsxs("div",{className:T,children:[a.jsxs("div",{className:"beaver-pagination__controls",children:[a.jsx("button",{type:"button",className:"beaver-pagination__control",onClick:()=>f(Math.max(1,r-1)),disabled:s||r===1,"aria-label":c.prev,children:a.jsx(C,{className:"beaver-pagination__icon",width:"1em",height:"1em","aria-hidden":!0})}),a.jsx("ul",{className:"beaver-pagination__list",children:M.map((e,n)=>a.jsx("li",{children:e==="..."?a.jsx("span",{className:"beaver-pagination__dots",children:"…"}):a.jsx("button",{type:"button",className:["beaver-pagination__item",r===e?"beaver-pagination__item--active":""].filter(Boolean).join(" "),onClick:()=>f(e),disabled:s,"aria-current":r===e?"page":void 0,children:e})},String(e)+n))}),a.jsx("button",{type:"button",className:"beaver-pagination__control",onClick:()=>f(Math.min(m,r+1)),disabled:s||r===m,"aria-label":c.next,children:a.jsx(J,{className:"beaver-pagination__icon",width:"1em",height:"1em","aria-hidden":!0})})]}),a.jsxs("div",{className:"beaver-pagination__extras",children:[P&&a.jsx("div",{className:"beaver-pagination__sizes",children:a.jsx(S,{options:N.map(e=>({label:c.itemsPerPage?c.itemsPerPage(e):`${e}`,value:String(e)})),value:String(o),onChange:e=>{const n=Array.isArray(e)?e[0]:e,u=Number(n)||o;x(u),f(1,u)},disabled:s,size:"small",width:h?.sizeChanger??92,className:"beaver-select--pagination",menuClassName:"beaver-select__menu--pagination","aria-label":"page-size"})}),k&&a.jsx("div",{className:"beaver-pagination__jumper",children:a.jsxs("label",{children:[c.jumpTo,a.jsx("input",{name:"beaver-jump",ref:j,className:"beaver-pagination__jump-input",disabled:s,onKeyDown:e=>{e.key==="Enter"&&(e.preventDefault(),_())},onBlur:()=>{_()},"aria-label":"quick-jump",style:h?.quickJumper?{width:z(h.quickJumper)}:void 0}),c.page]})})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{total:{required:!0,tsType:{name:"number"},description:"总条目数"},pageSize:{required:!1,tsType:{name:"number"},description:"初始每页数量（可选，默认 10）",defaultValue:{value:"10",computed:!1}},current:{required:!1,tsType:{name:"number"},description:"受控当前页（可选）"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(page: number, pageSize?: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"},{type:{name:"number"},name:"pageSize"}],return:{name:"void"}}},description:"页码或 pageSize 变化回调"},pageSizeOptions:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"下拉可选的 pageSize 值",defaultValue:{value:"[10, 20, 50, 100]",computed:!1}},showQuickJumper:{required:!1,tsType:{name:"boolean"},description:"是否显示快速跳转输入框",defaultValue:{value:"false",computed:!1}},showSizeChanger:{required:!1,tsType:{name:"boolean"},description:"是否显示每页数量切换器",defaultValue:{value:"false",computed:!1}},locale:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  prev?: string;
  next?: string;
  jumpTo?: string;
  page?: string;
  itemsPerPage?: (n: number) => string;
}`,signature:{properties:[{key:"prev",value:{name:"string",required:!1}},{key:"next",value:{name:"string",required:!1}},{key:"jumpTo",value:{name:"string",required:!1}},{key:"page",value:{name:"string",required:!1}},{key:"itemsPerPage",value:{name:"signature",type:"function",raw:"(n: number) => string",signature:{arguments:[{type:{name:"number"},name:"n"}],return:{name:"string"}},required:!1}}]}}],raw:"Partial<PaginationLocale>"},description:"国际化配置，可覆盖默认文案"},align:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:"对齐方向：'left' | 'center' | 'right'（默认 'right'）",defaultValue:{value:"'right'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用整个分页控件",defaultValue:{value:"false",computed:!1}},width:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  sizeChanger?: number | string;
  quickJumper?: number | string;
}`,signature:{properties:[{key:"sizeChanger",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!1}},{key:"quickJumper",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!1}}]}},description:"可选的宽度配置"}}};export{V as P,D as e};
