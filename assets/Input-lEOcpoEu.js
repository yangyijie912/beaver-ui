import{j as n}from"./jsx-runtime-u17CrQMm.js";import{R as C}from"./iframe-B140BTaK.js";const S=C.forwardRef(({className:b,validation:r="none",textarea:R,rows:z=3,resize:$="none",disabled:u,width:a,prefix:c,suffix:p,prefixClassName:I,suffixClassName:N,size:m="medium",htmlSize:h,...d},i)=>{const l=C.useRef(null),x=e=>{if(l.current=e,!!i)if(typeof i=="function")try{i(e)}catch{}else try{i.current=e}catch{}},t=["beaver-input"];if(r&&r!=="none"&&t.push(`beaver-input--${r}`),R&&t.push("beaver-input--textarea"),u&&t.push("beaver-input--disabled"),m&&t.push(`beaver-input--${m}`),b&&t.push(b),R){const{style:e,...s}=d,y={...e,resize:$,...a!==void 0?{width:typeof a=="number"?`${a}px`:a}:{}};return n.jsx("textarea",{ref:i,className:t.join(" "),"aria-invalid":r==="error",rows:z,style:y,...s})}const{style:_,allowClear:g,onClear:w,...o}=d,T={..._,...a!==void 0?{width:typeof a=="number"?`${a}px`:a}:{}},P=e=>{e.preventDefault(),e.stopPropagation();const s=d.onChange;if(s)s({target:{value:""},currentTarget:{value:""}});else if(l.current){l.current.value="";try{l.current.dispatchEvent(new Event("input",{bubbles:!0}))}catch{}}try{w&&w()}catch{}},D=e=>{e.preventDefault(),e.stopPropagation()},f=typeof c=="function"?c():c,v=typeof p=="function"?p():p,j=f!=null,q=v!=null,E=j||q||g,V=n.jsx("input",{ref:x,className:t.join(" "),"aria-invalid":r==="error",disabled:u,size:h,style:T,...o});return E?n.jsxs("div",{className:`beaver-input-wrapper beaver-input-wrapper--${m}`,children:[j&&n.jsx("div",{className:`beaver-input-prefix ${I||""}`,children:f}),V,q?n.jsx("div",{className:`beaver-input-suffix ${N||""}`,children:v}):g&&n.jsx("div",{className:`beaver-input-suffix ${N||""}`,children:n.jsx("button",{type:"button",className:"beaver-input-clear",onMouseDown:D,onClick:P,"aria-label":"clear",style:{visibility:o.value?"visible":"hidden",opacity:o.value?1:0,transition:"opacity 0.2s ease, visibility 0.2s ease"},children:"✕"})})]}):n.jsx("input",{ref:x,className:t.join(" "),"aria-invalid":r==="error",disabled:u,size:h,style:T,...o})});S.displayName="Input";S.__docgenInfo={description:"",methods:[],displayName:"Input",props:{validation:{required:!1,tsType:{name:"union",raw:"'error' | 'success' | 'warning' | 'none'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'none'"}]},description:"输入校验状态",defaultValue:{value:"'none'",computed:!1}},textarea:{required:!1,tsType:{name:"boolean"},description:"是否为多行文本域"},rows:{required:!1,tsType:{name:"number"},description:"多行文本域时的行数，默认3行",defaultValue:{value:"3",computed:!1}},resize:{required:!1,tsType:{name:"ReactCSSProperties['resize']",raw:"React.CSSProperties['resize']"},description:"textarea 的 CSS resize，例如 'none' | 'both' | 'horizontal' | 'vertical'",defaultValue:{value:"'none'",computed:!1}},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"直接设置宽度，支持 number(像素) 或 字符串(如 '100%','200px')"},prefix:{required:!1,tsType:{name:"union",raw:"React.ReactNode | (() => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:"输入框前置内容（图标、文本等）。支持直接传入 ReactNode 或 返回 ReactNode 的函数"},suffix:{required:!1,tsType:{name:"union",raw:"React.ReactNode | (() => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:"输入框后置内容（图标、清除按钮等）。支持直接传入 ReactNode 或 返回 ReactNode 的函数"},prefixClassName:{required:!1,tsType:{name:"string"},description:"前置内容容器类名"},suffixClassName:{required:!1,tsType:{name:"string"},description:"后置内容容器类名"},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"输入框大小",defaultValue:{value:"'medium'",computed:!1}},htmlSize:{required:!1,tsType:{name:"number"},description:"如果需要设置原生 input 的 `size` 属性（可见字符数），使用 `htmlSize`。"},allowClear:{required:!1,tsType:{name:"boolean"},description:"是否展示清除按钮（点击会清空输入）"},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"清除时触发的回调"}}};export{S as I};
