import{j as n}from"./jsx-runtime-u17CrQMm.js";import{r as x,R as V}from"./iframe-Er9CiN3F.js";import{P as Fe}from"./Pagination-B6rpvpDt.js";import{C as Re}from"./Checkbox-bJW1khc3.js";import{S as Ge}from"./Spinner-CKAoCXB_.js";import"./preload-helper-PPVm8Dsz.js";import"./Select-B6AO2VP2.js";import"./index-wPzBkBds.js";import"./index-HHXIjpWn.js";import"./useMenuPosition-Bv37-1vT.js";import"./floating-ui.dom-BnXNKGks.js";import"./Check-C9Lcua7d.js";import"./ArrowRight-BvBKt8CZ.js";import"./Form-BcmgbGz8.js";const je=e=>n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[n.jsx("path",{d:"M3 7.5L12 3l9 4.5v9L12 21 3 16.5v-9z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 3v18",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.6"})]});je.__docgenInfo={description:"",methods:[],displayName:"EmptyBox"};const Te=({columns:e,computedColumnWidths:r,showCheckbox:o,effectiveLeftFixed:a,effectiveRightFixed:i,columnPxOffsets:b,headerOffset:p,fixedHeader:m,defaultAlign:f,headerChecked:q,headerIndeterminate:N,toggleAll:d})=>n.jsx("thead",{children:n.jsxs("tr",{children:[o?n.jsx("th",{className:`beaver-table__select-col ${a>0?"beaver-table__cell--sticky beaver-table__cell--sticky--left beaver-table__cell--sticky-edge-left":""}`,style:m?{position:"sticky",top:p,...a>0?{left:0}:{}}:a>0?{position:"sticky",left:0}:void 0,children:n.jsx("span",{onClick:l=>l.stopPropagation(),children:n.jsx(Re,{"aria-label":"select-all",checked:q,indeterminate:N,onChange:l=>d(l.target.checked)})})}):null,e.map((l,v)=>{const g=l.align??f??"left",w=r.cols.find(S=>S.key===l.key)?.width,h=a>0&&v<a,s=i>0&&v>=e.length-i,u={},c=[];return h&&(u.position="sticky",u.left=b.leftOffsets[v],c.push("beaver-table__cell--sticky","beaver-table__cell--sticky--left"),v===a-1&&c.push("beaver-table__cell--sticky-edge-left")),s&&(u.position="sticky",u.right=b.rightOffsets[v],c.push("beaver-table__cell--sticky","beaver-table__cell--sticky--right"),v===e.length-i&&c.push("beaver-table__cell--sticky-edge-right")),n.jsx("th",{style:{width:w??l.width,textAlign:g,...m?{top:p}:{},...u},className:`beaver-table__th beaver-table__th--${g} ${c.join(" ")}`,children:l.title},l.key)})]})});Te.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string | number;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined;
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1}},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1}}]}}],raw:"Column[]"},description:""},computedColumnWidths:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  cols: ComputedColumnWidth[];
  needsHScroll: boolean;
  tableWidth?: string | undefined;
}`,signature:{properties:[{key:"cols",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ key: string; width?: string | number }",signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}}]}}],raw:"ComputedColumnWidth[]",required:!0}},{key:"needsHScroll",value:{name:"boolean",required:!0}},{key:"tableWidth",value:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}],required:!1}}]}},description:""},showCheckbox:{required:!0,tsType:{name:"boolean"},description:""},effectiveLeftFixed:{required:!0,tsType:{name:"number"},description:""},effectiveRightFixed:{required:!0,tsType:{name:"number"},description:""},columnPxOffsets:{required:!0,tsType:{name:"signature",type:"object",raw:"{ leftOffsets: number[]; rightOffsets: number[] }",signature:{properties:[{key:"leftOffsets",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!0}},{key:"rightOffsets",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!0}}]}},description:""},headerOffset:{required:!0,tsType:{name:"number"},description:""},fixedHeader:{required:!0,tsType:{name:"boolean"},description:""},defaultAlign:{required:!0,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:""},headerChecked:{required:!0,tsType:{name:"boolean"},description:""},headerIndeterminate:{required:!0,tsType:{name:"boolean"},description:""},toggleAll:{required:!0,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""}}};const Ie=({text:e="暂无数据",className:r,boxWidth:o})=>n.jsx("div",{className:`beaver-table__empty-inner ${r??""}`,role:"status","aria-live":"polite",children:n.jsxs("div",{className:"beaver-table__empty-box",style:o?{width:o}:void 0,"aria-hidden":typeof e=="string"?"false":"true",children:[n.jsx(je,{className:"beaver-table__empty-icon",width:48,height:48,"aria-hidden":!0}),n.jsx("div",{className:"beaver-table__empty-text",children:e})]})});Ie.__docgenInfo={description:"",methods:[],displayName:"Empty",props:{text:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"'暂无数据'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},boxWidth:{required:!1,tsType:{name:"string"},description:""}}};const Pe=({columns:e,data:r,rowKey:o,selectedMap:a,showCheckbox:i,toggle:b,effectiveLeftFixed:p,effectiveRightFixed:m,columnPxOffsets:f,renderCell:q,defaultAlign:N,empty:d,emptyText:l,loading:v})=>{if(!r||r.length===0){const w=e.length+(i?1:0);if(v)return n.jsx("tbody",{children:n.jsx("tr",{className:"beaver-table__empty-row",children:n.jsx("td",{className:"beaver-table__empty-cell",colSpan:w,children:n.jsx("div",{className:"beaver-table__empty-inner",role:"status","aria-live":"polite",children:n.jsxs("div",{className:"beaver-table__empty-box","aria-hidden":!0,children:[n.jsx("div",{className:"beaver-table__loading-icon-wrapper",children:n.jsx(Ge,{className:"beaver-table__empty-icon","aria-hidden":!0})}),n.jsx("div",{className:"beaver-table__empty-text",children:"加载中"})]})})})},"__empty__")});const h=d??n.jsx(Ie,{text:l??"暂无数据"});return n.jsx("tbody",{children:n.jsx("tr",{className:"beaver-table__empty-row",children:n.jsx("td",{className:"beaver-table__empty-cell",colSpan:w,children:h})},"__empty__")})}const g=[];for(let w=0;w<r.length;w++){const h=r[w];for(let s=0;s<e.length;s++){const u=e[s];let c=h[u.key],S=1;if(c&&typeof c=="object"&&("colSpan"in c||"rowSpan"in c||"value"in c)&&"rowSpan"in c&&(S=Math.max(1,Number(c.rowSpan)||1)),typeof u.span=="function")try{const _=u.span(h,w,u);_&&_.rowSpan!=null&&(S=Math.max(1,Number(_.rowSpan)||1))}catch{}if(S>1){let _=1;if(c&&typeof c=="object"&&("colSpan"in c||"rowSpan"in c||"value"in c)&&"colSpan"in c&&(_=Math.max(1,Number(c.colSpan)||1)),typeof u.span=="function")try{const t=u.span(h,w,u);t&&t.colSpan!=null&&(_=Math.max(1,Number(t.colSpan)||1))}catch{}_=Math.min(_,e.length-s),S=Math.min(S,r.length-w),g.push({startRow:w,endRow:w+S-1,startCol:s,endCol:s+_-1})}}}return n.jsx("tbody",{children:r.map((w,h)=>{const s=String(w[o]??h),u=!!a[s],c=[u?"beaver-table__row--selected":"",i?"beaver-table__row--clickable":""].filter(Boolean).join(" "),S=[];i&&S.push(n.jsx("td",{className:`beaver-table__select-col ${p>0?"beaver-table__cell--sticky beaver-table__cell--sticky--left beaver-table__cell--sticky-edge-left":""}`,style:p>0?{position:"sticky",left:0}:void 0,children:n.jsx("span",{onClick:t=>t.stopPropagation(),children:n.jsx(Re,{checked:u,onChange:t=>b(s,t.target.checked)})})},`__select_${s}`));const _={};for(const t of g)if(t.startRow<h&&h<=t.endRow)for(let M=t.startCol;M<=t.endCol;M++)_[`${h}-${M}`]=!0;for(let t=0;t<e.length;t++){const M=`${h}-${t}`;if(_[M])continue;const R=e[t],O=R.align??N??"left";let j=w[R.key],$=j,P=1,E=1;if(j&&typeof j=="object"&&("colSpan"in j||"rowSpan"in j||"value"in j)&&("value"in j&&($=j.value),"colSpan"in j&&(P=Math.max(1,Number(j.colSpan)||1)),"rowSpan"in j&&(E=Math.max(1,Number(j.rowSpan)||1))),typeof R.span=="function")try{const I=R.span(w,h,R);I&&(I.colSpan!=null&&(P=Math.max(1,Number(I.colSpan)||1)),I.rowSpan!=null&&(E=Math.max(1,Number(I.rowSpan)||1)))}catch{}P=Math.min(P,e.length-t),E=Math.min(E,r.length-h);for(let I=h;I<h+E;I++)for(let z=t;z<t+P;z++){const F=`${I}-${z}`;I===h&&z===t||(_[F]=!0)}const D=typeof R.render=="function"?R.render($,w,h,R):void 0,Q=D==null&&typeof q=="function"?q(w,R,h):void 0;S.push(n.jsx("td",{className:`beaver-table__td beaver-table__td--${O} ${p>0&&t<p?"beaver-table__cell--sticky beaver-table__cell--sticky--left"+(t===p-1?" beaver-table__cell--sticky-edge-left":""):m>0&&t>=e.length-m?"beaver-table__cell--sticky beaver-table__cell--sticky--right"+(t===e.length-m?" beaver-table__cell--sticky-edge-right":""):""}`,style:{textAlign:O,...p>0&&t<p?{position:"sticky",left:f.leftOffsets[t]}:{},...m>0&&t>=e.length-m?{position:"sticky",right:f.rightOffsets[t]}:{}},...P>1?{colSpan:P}:{},...E>1?{rowSpan:E}:{},children:D??Q??$},`${R.key}_${t}`))}return n.jsx("tr",{className:c,onClick:t=>{t.target.closest("input,button,a,textarea,select,.beaver-checkbox,.beaver-checkbox-wrapper,.beaver-checkbox-input")||i&&b(s,!u)},children:S},s)})})};Pe.__docgenInfo={description:"",methods:[],displayName:"TableBody",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string | number;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined;
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1}},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1}}]}}],raw:"Column[]"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Row[]"},description:""},rowKey:{required:!0,tsType:{name:"string"},description:""},selectedMap:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"boolean"}],raw:"Record<string, boolean>"},description:""},showCheckbox:{required:!0,tsType:{name:"boolean"},description:""},toggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string, checked?: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"key"},{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""},effectiveLeftFixed:{required:!0,tsType:{name:"number"},description:""},effectiveRightFixed:{required:!0,tsType:{name:"number"},description:""},columnPxOffsets:{required:!0,tsType:{name:"signature",type:"object",raw:"{ leftOffsets: number[]; rightOffsets: number[] }",signature:{properties:[{key:"leftOffsets",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!0}},{key:"rightOffsets",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!0}}]}},description:""},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: Row, column: Column, rowIndex: number) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string | number;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined;
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1}},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1}}]}},name:"column"},{type:{name:"number"},name:"rowIndex"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}}},description:""},defaultAlign:{required:!0,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:""},empty:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},emptyText:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""}}};function Je(){const e=x.useRef(null),[r,o]=x.useState(null);return x.useLayoutEffect(()=>{const a=e.current;if(!a)return;o(a.clientWidth||null);const i=new ResizeObserver(()=>{o(a.clientWidth||null)});return i.observe(a),()=>i.disconnect()},[]),{wrapRef:e,wrapWidth:r}}function Qe({wrapRef:e,effectiveLeftFixed:r,effectiveRightFixed:o,fixedHeader:a,computedTableWidth:i}){const[b,p]=x.useState(!1),[m,f]=x.useState(!1),[q,N]=x.useState(!1),[d,l]=x.useState(0),[v,g]=x.useState(0),[w,h]=x.useState(0);return x.useEffect(()=>{const s=e?e.current:null;if(!s)return;let u=0;const c=()=>{cancelAnimationFrame(u),u=requestAnimationFrame(()=>{const t=s.scrollLeft||0,M=Math.max(0,s.scrollWidth-s.clientWidth);p(r>0&&t>0),f(o>0&&t<M-1);const R=r>0||o>0,O=t>0&&t<M-1;N(!a&&R&&O);const j=Math.max(0,s.offsetHeight-s.clientHeight);l(j);const $=Math.max(0,s.offsetWidth-s.clientWidth);g($);try{const P=s.querySelector("table"),E=P?P.querySelector("thead"):null,D=a&&E?E.offsetHeight:0;h(D)}catch{h(0)}})},S=Math.max(0,s.scrollWidth-s.clientWidth);p(!1),f(o>0&&S>1),N(!1),l(Math.max(0,s.offsetHeight-s.clientHeight)),g(Math.max(0,s.offsetWidth-s.clientWidth));try{const t=s.querySelector("table"),M=t?t.querySelector("thead"):null,R=a&&M?M.offsetHeight:0;h(R)}catch{h(0)}s.addEventListener("scroll",c,{passive:!0});const _=new ResizeObserver(()=>c());return _.observe(s),()=>{s.removeEventListener("scroll",c),_.disconnect(),cancelAnimationFrame(u)}},[e,r,o,a,i]),{hasLeftShadow:b,hasRightShadow:m,hasColumnEdgeShadow:q,scrollbarHeight:d,scrollbarWidth:v,headerHeight:w}}function Xe(e,r,o,a,i){const b=typeof i=="number"&&i>0?i:80,p=e.map(s=>{const u=typeof s.width=="number"?`${s.width}px`:typeof s.width=="string"?s.width.trim():void 0;if(u&&u.endsWith("%")){const c=parseFloat(u.slice(0,-1));if(!Number.isNaN(c))return{key:s.key,raw:u,kind:"percent",value:c}}return{key:s.key,raw:u??void 0,kind:"other"}}),m=p.reduce((s,u)=>s+(u.kind==="percent"&&u.value?u.value:0),0),f=p.filter(s=>s.kind==="other"&&!s.raw).length,q=r&&r>0?f*b*100/r:f*3,N=Math.max(0,100-q);let d;if(m>0&&m>N){const s=N/m;d=p.map(u=>u.kind==="percent"&&u.value?{key:u.key,width:`${(u.value*s).toFixed(4).replace(/\.0+$/,"")}%`}:{key:u.key,width:u.raw})}else d=p.map(s=>({key:s.key,width:s.raw}));let l=0,v=!1,g=0;if(d.forEach(s=>{const u=s.width;if(!u){l+=b;return}const c=String(u).trim();if(c.endsWith("px")){const S=parseFloat(c.slice(0,-2));if(!Number.isNaN(S)){v=!0,l+=S,g+=S;return}}if(c.endsWith("%")){const S=parseFloat(c.slice(0,-1));if(!Number.isNaN(S)&&r&&r>0){l+=S/100*r;return}}l+=b}),o&&(l+=40,g+=40),a&&r&&r>0&&g>0)return g>r?{cols:d,needsHScroll:!0,tableWidth:Math.ceil(l)+"px"}:{cols:d,needsHScroll:!1,tableWidth:void 0};const w=!!(r&&l>r&&v),h=w?Math.ceil(l)+"px":void 0;return{cols:d,needsHScroll:w,tableWidth:h}}function Ue(e,r,o,a,i){const b=typeof i=="number"&&i>0?i:80,p=e.map(d=>{const l=r.cols.find(g=>g.key===d.key)?.width||d.width;if(!l)return b;const v=String(l).trim();if(v.endsWith("px")){const g=parseFloat(v.slice(0,-2));return Number.isNaN(g)?b:g}if(v.endsWith("%")&&o&&o>0){const g=parseFloat(v.slice(0,-1));return Number.isNaN(g)?b:g/100*o}return b}),m=a?40:0,f=new Array(e.length).fill(0);let q=m;for(let d=0;d<e.length;d++)f[d]=q,q+=p[d];const N=new Array(e.length).fill(0);q=0;for(let d=e.length-1;d>=0;d--)N[d]=q,q+=p[d];return{leftOffsets:f,rightOffsets:N}}function Ye(e,r,o,a,i,b,p){const m=typeof p=="number"&&p>0?p:80,f=d=>{const l=r.cols.find(g=>g.key===d.key)?.width||d.width;if(!l)return m;const v=String(l).trim();if(v.endsWith("px")){const g=parseFloat(v.slice(0,-2));return Number.isNaN(g)?m:g}if(v.endsWith("%")&&o&&o>0){const g=parseFloat(v.slice(0,-1));return Number.isNaN(g)?m:g/100*o}return m};let q=0;a&&(q+=40);for(let d=0;d<Math.max(0,i);d++){const l=e[d];if(!l)break;q+=f(l)}let N=0;for(let d=e.length-1;d>=e.length-b;d--){const l=e[d];if(!l)break;N+=f(l)}return{leftStickyWidth:Math.ceil(q),rightStickyWidth:Math.ceil(N)}}function Ze({columns:e,wrapWidth:r,showCheckbox:o,preservePxAsMin:a,minColumnPx:i,leftFixedCount:b,rightFixedCount:p}){const m=x.useMemo(()=>Xe(e,r,o,a,i),[e,r,o,a,i]),f=x.useMemo(()=>Ue(e,m,r,o,i),[e,m,r,o,i]),{leftStickyWidth:q,rightStickyWidth:N}=x.useMemo(()=>Ye(e,m,r,o,b,p,i),[e,m,r,o,b,p,i]),d=e.some(l=>!!l.width);return{computedColumnWidths:m,columnPxOffsets:f,leftStickyWidth:q,rightStickyWidth:N,hasAnyWidth:d}}const C=V.forwardRef(({columns:e,data:r,loading:o=!1,pagination:a,rowKey:i="id",defaultAlign:b="left",showCheckbox:p=!1,selectedKeys:m,onSelectionChange:f,renderCell:q,preservePxAsMin:N=!0,minColumnPx:d=80,fixedHeader:l=!1,headerOffset:v=0,maxHeight:g,fixedColumnCount:w=0,fixedRightCount:h=0,border:s=!1,empty:u,emptyText:c},S)=>{const _=a!==!1&&a!=null,t=_&&typeof a=="object"?a:void 0,M=_&&!(t&&typeof t.onChange=="function"),[R,O]=x.useState(t?.current??1),[j,$]=x.useState(t?.pageSize??10);x.useEffect(()=>{t&&typeof t.current=="number"&&O(t.current)},[t?.current]),x.useEffect(()=>{t&&typeof t.pageSize=="number"&&$(t.pageSize)},[t?.pageSize]);const P=t?.total??r.length;x.useEffect(()=>{const y=Math.max(1,Math.ceil(P/j));R>y&&O(y)},[P,j]);const E=t?.current??R,D=t?.pageSize??j,Q=(y,k)=>{t&&typeof t.onChange=="function"?t.onChange(y,k):(typeof k=="number"&&$(k),O(y))},I=M?r.slice((E-1)*D,E*D):r,[z,F]=x.useState({}),G=Array.isArray(m),{wrapRef:X,wrapWidth:we}=Je(),U=x.useMemo(()=>{if(G){const y={};return m.forEach(k=>y[k]=!0),y}return z},[G,m,z]),ve=y=>{const k=Object.keys(y).filter(A=>y[A]);f?.(k)},Ae=(y,k)=>{if(G){const A=new Set(m),K=A.has(y),L=new Set(A);typeof k=="boolean"?k?L.add(y):L.delete(y):K?L.delete(y):L.add(y);const Ve=Array.from(L);f?.(Ve);return}F(A=>{const K=typeof k=="boolean"?{...A,[y]:k}:{...A,[y]:!A[y]};return ve(K),K})},We=y=>{if(y){const k={};I.forEach((A,K)=>{const L=String(A[i]??K);k[L]=!0}),G?f?.(Object.keys(k)):(F(k),ve(k));return}G?f?.([]):(F({}),ve({}))},De=I.length,Oe=Object.keys(U).reduce((y,k)=>U[k]?y+1:y,0),qe=De>0&&I.every((y,k)=>!!U[String(y[i]??k)]),$e=Oe>0&&!qe,ke=e.length;let B=Math.max(0,Math.min(w,ke)),H=Math.max(0,Math.min(h,ke));B+H>=ke&&(console.warn("[Beaver-Table] fixedColumnCount + fixedRightCount >= columns.length — disabling fixed columns to avoid overlap"),B=0,H=0);const{computedColumnWidths:J,columnPxOffsets:_e,leftStickyWidth:Y,rightStickyWidth:Z,hasAnyWidth:Ce}=Ze({columns:e,wrapWidth:we,showCheckbox:p,preservePxAsMin:N,minColumnPx:d,leftFixedCount:B,rightFixedCount:H}),[ee,Se]=x.useState(B),[ne,xe]=x.useState(H);x.useEffect(()=>{const y=we??(X.current?X.current.clientWidth:null);if(y==null){Se(B),xe(H);return}Y+Z>=y?(ee===0&&ne===0||console.warn(`[Beaver-Table] fixed columns disabled: leftStickyWidth(${Y}) + rightStickyWidth(${Z}) >= containerWidth(${y})`),Se(0),xe(0)):(Se(B),xe(H))},[we,Y,Z,B,H]);const{hasLeftShadow:ze,hasRightShadow:Be,hasColumnEdgeShadow:He,scrollbarHeight:Ne,scrollbarWidth:Le,headerHeight:Ke}=Qe({wrapRef:X,effectiveLeftFixed:ee,effectiveRightFixed:ne,fixedHeader:l,computedTableWidth:J.tableWidth});return n.jsxs("div",{className:`beaver-table__frame ${ze?"has-left-shadow":""} ${Be?"has-right-shadow":""} ${l?"beaver-table__frame--fixed-header":""}`,ref:S,style:{"--beaver-table-left-sticky-width":`${Y}px`,"--beaver-table-right-sticky-width":`${Z}px`,"--beaver-table-scrollbar-height":`${Ne}px`,"--beaver-table-scrollbar-width":`${Le}px`,"--beaver-table-header-height":`${Ke}px`,"--beaver-table-scrollable-height":`calc(100% - ${Ne}px)`},children:[n.jsx("div",{className:`beaver-table__wrap ${s?"beaver-table__wrap--bordered":""}`,ref:X,style:{overflowX:J.needsHScroll?"auto":void 0,overflowY:l?"auto":void 0,paddingBottom:l?12:void 0,maxHeight:l&&g!=null?typeof g=="number"?`${g}px`:g:void 0},children:n.jsxs("table",{className:`beaver-table ${l?"beaver-table--fixed-header":""} ${s?"beaver-table--bordered":""} ${He?"beaver-table--column-edge-shadow":""}`,style:{tableLayout:Ce?"fixed":"auto",width:J.tableWidth},children:[Ce?n.jsxs("colgroup",{children:[p?n.jsx("col",{style:{width:"40px"}},"__select_col__"):null,e.map(y=>{const k=J.cols.find(A=>A.key===y.key)?.width;return n.jsx("col",{style:k?{width:k}:void 0},y.key)})]}):null,n.jsx(Te,{columns:e,computedColumnWidths:J,showCheckbox:p,effectiveLeftFixed:ee,effectiveRightFixed:ne,columnPxOffsets:_e,headerOffset:v,fixedHeader:l,defaultAlign:b,headerChecked:qe,headerIndeterminate:$e,toggleAll:We}),n.jsx(Pe,{columns:e,data:I,rowKey:i,selectedMap:U,showCheckbox:p,toggle:Ae,effectiveLeftFixed:ee,effectiveRightFixed:ne,columnPxOffsets:_e,loading:o,renderCell:q,defaultAlign:b,empty:u,emptyText:c})]})}),_?n.jsx("div",{className:"beaver-table__footer",children:n.jsx(Fe,{total:P,current:E,pageSize:D,onChange:Q,showQuickJumper:t?.showQuickJumper,showSizeChanger:t?.showSizeChanger,pageSizeOptions:t?.pageSizeOptions,align:t?.align,disabled:t?.disabled,width:t?.width})}):null]})});C.displayName="Table";C.__docgenInfo={description:"",methods:[],displayName:"Table",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string | number;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined;
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1}},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1}}]}}],raw:"Column[]"},description:"列定义"},data:{required:!0,tsType:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Row[]"},description:"行数据"},rowKey:{required:!1,tsType:{name:"string"},description:"行唯一标识字段",defaultValue:{value:"'id'",computed:!1}},defaultAlign:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:"默认列对齐方式，列自身未配置 align 时使用",defaultValue:{value:"'left'",computed:!1}},showCheckbox:{required:!1,tsType:{name:"boolean"},description:"是否展示行前的复选框（默认 false）",defaultValue:{value:"false",computed:!1}},selectedKeys:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"受控选中 keys（可选）"},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(keys: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"keys"}],return:{name:"void"}}},description:"选中变化回调（受控或非受控时都会触发）"},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: Row, column: Column, rowIndex: number) => ReactNode | null | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string | number;
  align?: 'left' | 'center' | 'right';
  render?: (value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined;
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1}},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1}}]}},name:"column"},{type:{name:"number"},name:"rowIndex"}],return:{name:"union",raw:"ReactNode | null | undefined",elements:[{name:"ReactNode"},{name:"null"},{name:"undefined"}]}}},description:"可选的单元格渲染器：如果返回非 null/undefined，则使用其结果作为单元格内容"},preservePxAsMin:{required:!1,tsType:{name:"boolean"},description:`当混合使用 px 与 百分比/未设置宽度时，是否保证 px 列的最小宽度，且尽量避免滚动（默认 true）。
为 true 时，只有当 px 列总宽超过容器时才触发横向滚动，否则 px 列作为最小宽保留，百分比列保持弹性分配。
为 false 时，则按常规逻辑：只要包含 px 列且总宽超出容器就触发横向滚动。`,defaultValue:{value:"true",computed:!1}},minColumnPx:{required:!1,tsType:{name:"number"},description:"未指定或无法换算宽度时的保守最小像素（默认 80）",defaultValue:{value:"80",computed:!1}},fixedHeader:{required:!1,tsType:{name:"boolean"},description:"是否固定表头，默认 false",defaultValue:{value:"false",computed:!1}},headerOffset:{required:!1,tsType:{name:"number"},description:"表头距离容器顶部的偏移（例如有上方工具栏时），默认 0",defaultValue:{value:"0",computed:!1}},maxHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:"表格容器最大高度，设置后启用纵向滚动以配合粘性表头。示例：300 或 '50vh'"},fixedColumnCount:{required:!1,tsType:{name:"number"},description:`固定左侧的列数量（不含复选框列），默认 0。
注意：固定列数量之和要小于总列数，否则为了避免重叠，超出时会自动禁用固定列；
且当固定列宽度之和超过容器宽度时也会自动禁用固定列并打印警告。`,defaultValue:{value:"0",computed:!1}},fixedRightCount:{required:!1,tsType:{name:"number"},description:`固定右侧的列数量，默认 0。
注意：固定列数量之和要小于总列数，否则为了避免重叠，超出时会自动禁用固定列；
且当固定列宽度之和超过容器宽度时也会自动禁用固定列并打印警告。`,defaultValue:{value:"0",computed:!1}},border:{required:!1,tsType:{name:"boolean"},description:"是否展示边框线，默认不展示",defaultValue:{value:"false",computed:!1}},empty:{required:!1,tsType:{name:"ReactNode"},description:"自定义空状态：优先使用该 prop（ReactNode）"},emptyText:{required:!1,tsType:{name:"ReactNode"},description:"空状态默认文案（当未提供 `empty` 时使用）"},loading:{required:!1,tsType:{name:"boolean"},description:"是否显示加载中状态（在数据加载时可用）",defaultValue:{value:"false",computed:!1}},pagination:{required:!1,tsType:{name:"union",raw:"false | Partial<PaginationProps>",elements:[{name:"literal",value:"false"},{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  /** 总条目数 */
  total: number;
  /** 初始每页数量（可选，默认 10） */
  pageSize?: number;
  /** 受控当前页（可选） */
  current?: number;
  /** 页码或 pageSize 变化回调 */
  onChange?: (page: number, pageSize?: number) => void;
  /** 下拉可选的 pageSize 值 */
  pageSizeOptions?: number[];
  /** 是否显示快速跳转输入框 */
  showQuickJumper?: boolean;
  /** 是否显示总数（默认 false） */
  showTotal?: boolean;
  /** 是否显示每页数量切换器 */
  showSizeChanger?: boolean;
  /** 国际化配置，可覆盖默认文案 */
  locale?: Partial<PaginationLocale>;
  /** 对齐方向：'left' | 'center' | 'right'（默认 'right'） */
  align?: 'left' | 'center' | 'right';
  /** 是否禁用整个分页控件 */
  disabled?: boolean;
  /** 可选的宽度配置 */
  width?: {
    sizeChanger?: number | string;
    quickJumper?: number | string;
  };
}`,signature:{properties:[{key:"total",value:{name:"number",required:!0},description:"总条目数"},{key:"pageSize",value:{name:"number",required:!1},description:"初始每页数量（可选，默认 10）"},{key:"current",value:{name:"number",required:!1},description:"受控当前页（可选）"},{key:"onChange",value:{name:"signature",type:"function",raw:"(page: number, pageSize?: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"},{type:{name:"number"},name:"pageSize"}],return:{name:"void"}},required:!1},description:"页码或 pageSize 变化回调"},{key:"pageSizeOptions",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!1},description:"下拉可选的 pageSize 值"},{key:"showQuickJumper",value:{name:"boolean",required:!1},description:"是否显示快速跳转输入框"},{key:"showTotal",value:{name:"boolean",required:!1},description:"是否显示总数（默认 false）"},{key:"showSizeChanger",value:{name:"boolean",required:!1},description:"是否显示每页数量切换器"},{key:"locale",value:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  prev?: string;
  next?: string;
  jumpTo?: string;
  page?: string;
  /** 总数格式化函数，例如 n => \`共 \${n} 条\` */
  total?: (n: number) => string;
  itemsPerPage?: (n: number) => string;
}`,signature:{properties:[{key:"prev",value:{name:"string",required:!1}},{key:"next",value:{name:"string",required:!1}},{key:"jumpTo",value:{name:"string",required:!1}},{key:"page",value:{name:"string",required:!1}},{key:"total",value:{name:"signature",type:"function",raw:"(n: number) => string",signature:{arguments:[{type:{name:"number"},name:"n"}],return:{name:"string"}},required:!1},description:"总数格式化函数，例如 n => `共 ${n} 条`"},{key:"itemsPerPage",value:{name:"signature",type:"function",raw:"(n: number) => string",signature:{arguments:[{type:{name:"number"},name:"n"}],return:{name:"string"}},required:!1}}]}}],raw:"Partial<PaginationLocale>",required:!1},description:"国际化配置，可覆盖默认文案"},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1},description:"对齐方向：'left' | 'center' | 'right'（默认 'right'）"},{key:"disabled",value:{name:"boolean",required:!1},description:"是否禁用整个分页控件"},{key:"width",value:{name:"signature",type:"object",raw:`{
  sizeChanger?: number | string;
  quickJumper?: number | string;
}`,signature:{properties:[{key:"sizeChanger",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!1}},{key:"quickJumper",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!1}}]},required:!1},description:"可选的宽度配置"}]}}],raw:"Partial<PaginationProps>"}]},description:"分页配置；设置为 `false` 禁用分页，或传入 Pagination 的部分 props 以启用分页（支持受控或非受控用法）"}}};const On={title:"数据展示（Data Display）/Table",component:C,tags:["autodocs"],parameters:{docs:{description:{component:`Table 组件

- 使用场景：展示和操作结构化数据的表格
- 支持可选的多选框列，便于选择多行数据
- 支持受控和非受控的行选择状态管理
- 支持固定表头和固定列，提升大数据量表格的可用性
- 支持自定义单元格渲染，满足复杂展示需求
- 支持边框样式和空状态展示`}}}},W=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量"},{key:"priceEach",title:"单价"},{key:"orderGoods",title:"订单货物"},{key:"sales",title:"销售额"},{key:"orderDate",title:"订单日期"},{key:"statusName",title:"状态"}],en=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量",align:"center"},{key:"priceEach",title:"单价",align:"right"},{key:"orderGoods",title:"订单货物",align:"center"},{key:"sales",title:"销售额",align:"right"},{key:"orderDate",title:"订单日期",align:"center"},{key:"statusName",title:"状态",align:"center"}],Me=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"100px"},{key:"quantityOrdered",title:"订购数量",width:"100px"},{key:"priceEach",title:"单价",width:"100px"},{key:"orderGoods",title:"订单货物",width:"700px"},{key:"sales",title:"销售额",width:"100px"},{key:"orderDate",title:"订单日期",width:"150px"},{key:"statusName",title:"状态",width:"100px"}],nn=[{key:"unique_id",title:"ID编号",width:100},{key:"orderNumber",title:"订单号",width:"10%"},{key:"quantityOrdered",title:"订购数量",width:"10%"},{key:"priceEach",title:"单价",width:"10%"},{key:"orderGoods",title:"订单货物",width:"50%"},{key:"sales",title:"销售额",width:"10%"},{key:"orderDate",title:"订单日期",width:"10%"},{key:"statusName",title:"状态",width:100}],T=[{id:1,unique_id:1,orderNumber:10107,quantityOrdered:30,priceEach:95.7,orderGoods:"货物1, 货物2",sales:2871,orderDate:"2025-01-15",status:"Disputed",statusName:"待处理"},{id:2,unique_id:2,orderNumber:10121,quantityOrdered:34,priceEach:81.35,orderGoods:"货物3, 货物4",sales:2765.9,orderDate:"2025-01-16",status:"Shipped",statusName:"已发货"},{id:3,unique_id:3,orderNumber:10134,quantityOrdered:41,priceEach:94.74,orderGoods:"货物5, 货物6",sales:3884.34,orderDate:"2025-01-17",status:"In Process",statusName:"处理中"},{id:4,unique_id:4,orderNumber:10145,quantityOrdered:45,priceEach:83.26,orderGoods:"货物7, 货物8",sales:3746.7,orderDate:"2025-01-18",status:"In Process",statusName:"处理中"},{id:5,unique_id:5,orderNumber:10159,quantityOrdered:49,priceEach:100,orderGoods:"货物9, 货物10",sales:5205.27,orderDate:"2025-01-19",status:"Disputed",statusName:"待处理"},{id:6,unique_id:6,orderNumber:10168,quantityOrdered:36,priceEach:96.66,orderGoods:"货物11, 货物12",sales:3479.76,orderDate:"2025-01-20",status:"Shipped",statusName:"已发货"},{id:7,unique_id:7,orderNumber:10180,quantityOrdered:29,priceEach:86.13,orderGoods:"货物17, 货物18",sales:2497.77,orderDate:"2025-01-21",status:"Disputed",statusName:"待处理"},{id:8,unique_id:8,orderNumber:10188,quantityOrdered:48,priceEach:100,orderGoods:"货物19, 货物20",sales:5512.32,orderDate:"2025-01-22",status:"Disputed",statusName:"待处理"}],Ee=`
  .user-status {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 14px;
    font-size: 13px;
    border: 1px solid rgba(0,0,0,0.06);
    background: #fff;
  }
  .user-status--disputed {
    color: #c0392b;
    border-color: rgba(192,57,43,0.15);
    background: rgba(192,57,43,0.04);
  }
  .user-status--shipped {
    color: #1e90ff;
    border-color: rgba(30,144,255,0.15);
    background: rgba(30,144,255,0.04);
  }
  .user-status--inprocess {
    color: #16a34a;
    border-color: rgba(22,163,74,0.12);
    background: rgba(22,163,74,0.04);
  }
  `,rn=e=>n.jsx(C,{columns:W,data:T,rowKey:"id",...e}),re={name:"默认",render:rn,args:{}},tn=e=>n.jsx(C,{columns:W,data:[],rowKey:"id",...e}),te={name:"暂无数据",render:tn,args:{}},an=e=>n.jsx(C,{columns:W,data:[],rowKey:"id",loading:!0,...e}),ae={name:"加载中",render:an,args:{}},sn=e=>n.jsx(C,{columns:W,data:T,rowKey:"id",...e}),se={name:"带复选框",render:sn,args:{showCheckbox:!0}},on=e=>n.jsx(C,{columns:en,data:T,rowKey:"id",...e}),ie={name:"对齐方式",render:on,args:{}},ln=e=>{const[r,o]=V.useState(["1"]);return n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:12},children:["Selected: ",r.join(", ")||"(none)"]}),n.jsx(C,{columns:W,data:T,rowKey:"id",selectedKeys:r,onSelectionChange:a=>o(a),...e})]})},oe={name:"受控选择",render:ln,args:{showCheckbox:!0}},un=e=>n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:12},children:[n.jsx("p",{children:"自定义宽度示例"}),n.jsx("p",{children:"可以尝试更改 preservePxAsMin 参数查看"}),n.jsx("p",{children:"preservePxAsMin = false：只要包含 px 列且总宽超出容器就触发横向滚动"})]}),n.jsx(C,{columns:nn,data:T,rowKey:"id",showCheckbox:!0,...e})]}),le={name:"自定义宽度",render:un,args:{preservePxAsMin:!0,minColumnPx:80}},dn=e=>{const r=Array.from({length:20}).flatMap((o,a)=>T.map(i=>({...i,id:i.id+a*T.length,unique_id:i.unique_id+a*T.length})));return n.jsx(C,{columns:W,data:r,rowKey:"id",fixedHeader:!0,maxHeight:240,...e})},ue={name:"固定表头",render:dn,args:{}},mn=e=>n.jsx(C,{columns:Me,data:T,rowKey:"id",showCheckbox:!0,fixedColumnCount:2,fixedRightCount:2,...e}),de={name:"左右固定列",render:mn,args:{}},cn=e=>{const r=Array.from({length:20}).flatMap((o,a)=>T.map(i=>({...i,id:i.id+a*T.length,unique_id:i.unique_id+a*T.length})));return n.jsx(C,{columns:Me,data:r,rowKey:"id",showCheckbox:!0,fixedHeader:!0,fixedColumnCount:2,fixedRightCount:2,maxHeight:240,...e})},me={name:"固定表头 & 左右列",render:cn,args:{}},pn=e=>n.jsxs("div",{children:[n.jsxs("p",{children:["通过 ",n.jsx("code",{children:"border"})," 属性控制列之间的竖向分隔线和粘性列的分隔效果。"]}),n.jsx(C,{columns:W,data:T,rowKey:"id",...e})]}),ce={name:"border 属性",render:pn,args:{border:!0,showCheckbox:!1}},gn=e=>n.jsxs("div",{children:[n.jsx("style",{children:Ee}),n.jsx(C,{columns:W,data:T,rowKey:"id",renderCell:(r,o)=>{if(o.key==="statusName"){const a=String(r.status).toLowerCase().replace(/\s+/g,"");return n.jsx("span",{className:`user-status user-status--${a}`,children:r.statusName})}return o.key==="orderDate"?new Date(r.orderDate).toLocaleDateString():r[o.key]},...e})]}),pe={name:"renderCell渲染",render:gn,args:{}},yn=e=>{const r=W.map(o=>o.key==="statusName"?{...o,render:(a,i)=>{const b=String(i.status).toLowerCase().replace(/\s+/g,"");return n.jsx("span",{className:`user-status user-status--${b}`,children:a})}}:o);return n.jsxs("div",{children:[n.jsx("style",{children:Ee}),n.jsx(C,{columns:r,data:T,rowKey:"id",...e})]})},ge={name:"列级渲染",render:yn,args:{}},fn=e=>{const r=Array.from({length:20}).flatMap((o,a)=>T.map(i=>({...i,id:i.id+a*T.length,unique_id:i.unique_id+a*T.length})));return n.jsxs("div",{children:[n.jsx("p",{children:"非受控分页：Table 内部处理分页（对传入的 data 做切片）。"}),n.jsx(C,{columns:W,data:r,rowKey:"id",pagination:{pageSize:5,pageSizeOptions:[5,10,20],showSizeChanger:!0,showQuickJumper:!0},...e})]})},ye={name:"分页（非受控）",render:fn,args:{}},bn=e=>{const r=V.useMemo(()=>Array.from({length:67}).map((m,f)=>({id:f+1,unique_id:f+1,orderNumber:1e4+f,quantityOrdered:Math.ceil(Math.random()*100),priceEach:Number((Math.random()*200).toFixed(2)),orderGoods:`货物 ${f+1}`,sales:Math.floor(Math.random()*1e4),orderDate:"2025-01-01",statusName:f%3===0?"待处理":f%3===1?"已发货":"处理中"})),[]),[o,a]=V.useState(1),[i,b]=V.useState(10),p=V.useMemo(()=>{const m=(o-1)*i;return r.slice(m,m+i)},[r,o,i]);return n.jsxs("div",{children:[n.jsx("p",{children:"受控分页：父组件负责提供当前页数据并处理 `onChange`。"}),n.jsx(C,{columns:W,data:p,rowKey:"id",pagination:{total:r.length,current:o,pageSize:i,onChange:(m,f)=>{b(f??i),a(m)},showSizeChanger:!0,showQuickJumper:!0},...e})]})},fe={name:"分页（受控）",render:bn,args:{}},hn=[{key:"a",title:"列 A"},{key:"b",title:"列 B"},{key:"c",title:"列 C"},{key:"d",title:"列 D"},{key:"e",title:"列 E"}],wn=[{id:"v1",a:{value:"A: rowspan 2",rowSpan:2},b:{value:"B: colspan 3",colSpan:3},c:"",d:"",e:"E1"},{id:"v2",b:"should be covered",c:"should be covered",d:"should be covered",e:{value:"E2",colSpan:1}},{id:"v3",a:"A3",b:"B3",c:{value:"C: colspan 2",colSpan:2},d:"",e:"E3"},{id:"v4",a:"A4",b:"B4",c:"C4",d:"D4",e:"E4"}],vn=e=>n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:12},children:["更明显的跨行/跨列示例，使用 ",n.jsx("code",{children:"{ value, colSpan, rowSpan }"}),"，并通过 ",n.jsx("code",{children:"renderCell"})," ","高亮合并单元格。"]}),n.jsx(C,{columns:hn,data:wn,rowKey:"id",renderCell:(r,o)=>{const a=r[o.key];if(a&&typeof a=="object"&&("colSpan"in a||"rowSpan"in a||"value"in a)){const b=a;return n.jsx("div",{style:{background:"rgba(14, 165, 233, 0.12)",padding:"10px 12px",borderRadius:6},children:b.value??""})}return r[o.key]},...e})]}),be={name:"跨行/跨列",render:vn,args:{}},kn=[{key:"name",title:"名称",span:(e,r)=>r===0?{rowSpan:2}:void 0},{key:"info",title:"信息"},{key:"extra",title:"额外"}],Sn=[{id:"c1",name:"合并的名称",info:"info1",extra:"extra1"},{id:"c2",name:"被覆盖",info:"info2",extra:"extra2"},{id:"c3",name:"正常",info:"info3",extra:"extra3"}],xn=e=>n.jsxs("div",{children:[n.jsxs("div",{style:{marginBottom:12},children:["演示如何在列定义中通过 ",n.jsx("code",{children:"span"})," 回调控制 rowSpan/colSpan。"]}),n.jsx(C,{columns:kn,data:Sn,rowKey:"id",...e})]}),he={name:"列级 span 回调",render:xn,args:{}};re.parameters={...re.parameters,docs:{...re.parameters?.docs,source:{originalSource:`{
  name: '默认',
  render: DefaultTemplate,
  args: {}
}`,...re.parameters?.docs?.source}}};te.parameters={...te.parameters,docs:{...te.parameters?.docs,source:{originalSource:`{
  name: '暂无数据',
  render: EmptyTemplate,
  args: {}
}`,...te.parameters?.docs?.source}}};ae.parameters={...ae.parameters,docs:{...ae.parameters?.docs,source:{originalSource:`{
  name: '加载中',
  render: LoadingTemplate,
  args: {}
}`,...ae.parameters?.docs?.source}}};se.parameters={...se.parameters,docs:{...se.parameters?.docs,source:{originalSource:`{
  name: '带复选框',
  render: WithCheckboxesTemplate,
  args: {
    showCheckbox: true
  }
}`,...se.parameters?.docs?.source}}};ie.parameters={...ie.parameters,docs:{...ie.parameters?.docs,source:{originalSource:`{
  name: '对齐方式',
  render: AlignDemoTemplate,
  args: {}
}`,...ie.parameters?.docs?.source}}};oe.parameters={...oe.parameters,docs:{...oe.parameters?.docs,source:{originalSource:`{
  name: '受控选择',
  render: ControlledSelectionTemplate,
  args: {
    showCheckbox: true
  }
}`,...oe.parameters?.docs?.source}}};le.parameters={...le.parameters,docs:{...le.parameters?.docs,source:{originalSource:`{
  name: '自定义宽度',
  render: MixTemplate,
  args: {
    preservePxAsMin: true,
    minColumnPx: 80
  }
}`,...le.parameters?.docs?.source}}};ue.parameters={...ue.parameters,docs:{...ue.parameters?.docs,source:{originalSource:`{
  name: '固定表头',
  render: FixedHeaderTemplate,
  args: {}
}`,...ue.parameters?.docs?.source}}};de.parameters={...de.parameters,docs:{...de.parameters?.docs,source:{originalSource:`{
  name: '左右固定列',
  render: FixedBothSidesTemplate,
  args: {}
}`,...de.parameters?.docs?.source}}};me.parameters={...me.parameters,docs:{...me.parameters?.docs,source:{originalSource:`{
  name: '固定表头 & 左右列',
  render: FixedHeaderAndBothSidesTemplate,
  args: {}
}`,...me.parameters?.docs?.source}}};ce.parameters={...ce.parameters,docs:{...ce.parameters?.docs,source:{originalSource:`{
  name: 'border 属性',
  render: BorderedTemplate,
  args: {
    border: true,
    showCheckbox: false
  }
}`,...ce.parameters?.docs?.source}}};pe.parameters={...pe.parameters,docs:{...pe.parameters?.docs,source:{originalSource:`{
  name: 'renderCell渲染',
  render: RenderCellInjectedStylesTemplate,
  args: {}
}`,...pe.parameters?.docs?.source}}};ge.parameters={...ge.parameters,docs:{...ge.parameters?.docs,source:{originalSource:`{
  name: '列级渲染',
  render: ColumnLevelRenderTemplate,
  args: {}
}`,...ge.parameters?.docs?.source}}};ye.parameters={...ye.parameters,docs:{...ye.parameters?.docs,source:{originalSource:`{
  name: '分页（非受控）',
  render: ClientSidePaginationTemplate,
  args: {}
}`,...ye.parameters?.docs?.source}}};fe.parameters={...fe.parameters,docs:{...fe.parameters?.docs,source:{originalSource:`{
  name: '分页（受控）',
  render: ControlledPaginationTemplate,
  args: {}
}`,...fe.parameters?.docs?.source}}};be.parameters={...be.parameters,docs:{...be.parameters?.docs,source:{originalSource:`{
  name: '跨行/跨列',
  render: VisibleSpanTemplate,
  args: {}
}`,...be.parameters?.docs?.source}}};he.parameters={...he.parameters,docs:{...he.parameters?.docs,source:{originalSource:`{
  name: '列级 span 回调',
  render: ColumnSpanTemplate,
  args: {}
}`,...he.parameters?.docs?.source}}};const $n=["Default","EmptyState","Loading","WithCheckboxes","AlignDemo","ControlledSelection","CustomWidths","FixedHeader","FixedBothSides","FixedHeaderAndBothSides","Bordered","RenderCellInjectedStyles","ColumnLevelRender","ClientSidePagination","ControlledPagination","VisibleSpan","ColumnSpanAPI"];export{ie as AlignDemo,ce as Bordered,ye as ClientSidePagination,ge as ColumnLevelRender,he as ColumnSpanAPI,fe as ControlledPagination,oe as ControlledSelection,le as CustomWidths,re as Default,te as EmptyState,de as FixedBothSides,ue as FixedHeader,me as FixedHeaderAndBothSides,ae as Loading,pe as RenderCellInjectedStyles,be as VisibleSpan,se as WithCheckboxes,$n as __namedExportsOrder,On as default};
