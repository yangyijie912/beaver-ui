import{r as h}from"./iframe-Bt23bDWF.js";import{a as T,c as C,o as W,f as k,s as q}from"./floating-ui.dom-BnXNKGks.js";const G=(n,c,u=!1,i=4)=>{const[x,l]=h.useState({x:0,y:0,top:0,left:0,measured:!1});return h.useEffect(()=>{if(!u)return;l(t=>({...t,measured:!1,x:0,y:0}));const e=n.current,o=c.current;if(!e||!o)return;const d=async()=>{try{let t=function(s){if(!s)return 0;try{const a=s.split(",")[0].trim().match(/-?\d+\.?\d*px/g);if(!a||a.length===0)return 0;const E=a[a.length-1];return Math.abs(parseFloat(E))||0}catch{return 0}};await new Promise(s=>requestAnimationFrame(s));const r=getComputedStyle(e),g=getComputedStyle(o),y=t(r.boxShadow||null),b=t(g.boxShadow||null),M=Math.abs(parseFloat(r.outlineWidth||"0"))||0,w=Math.abs(parseFloat(r.borderTopWidth||"0"))||0,S=Math.max(0,i+y+b+M+w),{x:P,y:F}=await C(e,o,{placement:"bottom-start",strategy:"fixed",middleware:[W(S),k({fallbackPlacements:["top-start"]}),q({padding:8})]}),f=Math.round(P||0),m=Math.round(F||0);l({x:f,y:m,top:m,left:f,measured:!0})}catch{}};d();const p=T(e,o,d);return()=>p&&p()},[n,c,u,i]),x};export{G as u};
