import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as q,R as Ce}from"./iframe-DGn70Bde.js";import{C as _e}from"./Checkbox-BLi7iDjg.js";import"./preload-helper-PPVm8Dsz.js";const S=({columns:i,data:m,rowKey:b="id",defaultAlign:f="left",showCheckbox:p=!1,selectedKeys:T,onSelectionChange:O,renderCell:ue,preservePxAsMin:me=!0,minColumnPx:P=80,fixedHeader:pe=!1,fixedColumnCount:ye=0,fixedRightCount:fe=0})=>{const re=q.useRef(null),[A,ae]=q.useState([]),[I,se]=q.useState([]),[ie,he]=q.useState([]),[ge,le]=q.useState({}),W=Array.isArray(T),oe=q.useRef(null),[_,be]=q.useState(null);q.useLayoutEffect(()=>{const e=oe.current;if(!e)return;be(e.clientWidth||null);const r=new ResizeObserver(()=>{be(e.clientWidth||null)});return r.observe(e),()=>r.disconnect()},[]);const B=q.useMemo(()=>{if(W){const e={};return T.forEach(r=>e[r]=!0),e}return ge},[W,T,ge]),de=e=>{const r=Object.keys(e).filter(s=>e[s]);O?.(r)},xe=(e,r)=>{if(W){const s=new Set(T),u=s.has(e),l=new Set(s);typeof r=="boolean"?r?l.add(e):l.delete(e):u?l.delete(e):l.add(e);const w=Array.from(l);O?.(w);return}le(s=>{const u=typeof r=="boolean"?{...s,[e]:r}:{...s,[e]:!s[e]};return de(u),u})},Ne=e=>{if(e){const r={};m.forEach((s,u)=>{const l=String(s[b]??u);r[l]=!0}),W?O?.(Object.keys(r)):(le(r),de(r));return}W?O?.([]):(le({}),de({}))},qe=m.length,Te=Object.keys(B).reduce((e,r)=>B[r]?e+1:e,0),we=qe>0&&m.every((e,r)=>!!B[String(e[b]??r)]),Ae=Te>0&&!we,ke=i.some(e=>!!e.width),M=Ce.useMemo(()=>{const e=typeof P=="number"&&P>0?P:80,r=i.map(d=>{const n=d.width?.trim();if(n&&n.endsWith("%")){const g=parseFloat(n.slice(0,-1));if(!Number.isNaN(g))return{key:d.key,raw:n,kind:"percent",value:g}}return{key:d.key,raw:n??void 0,kind:"other"}}),s=r.reduce((d,n)=>d+(n.kind==="percent"&&n.value?n.value:0),0),u=r.filter(d=>d.kind==="other"&&!d.raw).length,l=_&&_>0?u*e*100/_:u*3,w=Math.max(0,100-l);let h;if(s>0&&s>w){const d=w/s;h=r.map(n=>n.kind==="percent"&&n.value?{key:n.key,width:`${(n.value*d).toFixed(4).replace(/\.0+$/,"")}%`}:{key:n.key,width:n.raw})}else h=r.map(d=>({key:d.key,width:d.raw}));let o=0,a=!1,c=0;if(h.forEach(d=>{const n=d.width;if(!n){o+=e;return}const g=n.trim();if(g.endsWith("px")){const k=parseFloat(g.slice(0,-2));if(!Number.isNaN(k)){a=!0,o+=k,c+=k;return}}if(g.endsWith("%")){const k=parseFloat(g.slice(0,-1));if(!Number.isNaN(k)&&_&&_>0){o+=k/100*_;return}}o+=e}),p&&(o+=40,c+=40),me&&_&&_>0&&c>0)return c>_?{cols:h,needsHScroll:!0,tableWidth:Math.ceil(o)+"px"}:{cols:h,needsHScroll:!1,tableWidth:void 0};const x=!!(_&&o>_&&a),y=x?Math.ceil(o)+"px":void 0;return{cols:h,needsHScroll:x,tableWidth:y}},[i,_,p,me,P]);q.useLayoutEffect(()=>{const e=re.current,r=oe.current;if(!e||!r){ae([]),se([]);return}const s=Array.from(e.querySelectorAll("thead th")),u=[];let l=0;for(let a=0;a<s.length;a++)u[a]=l,l+=s[a].offsetWidth||0;try{he(s.map(a=>a.offsetWidth||0))}catch{}e.clientWidth||e.getBoundingClientRect().width;const w=[];let h=0;for(let a=s.length-1;a>=0;a--)w[a]=h,h+=s[a].offsetWidth||0;ae(u),se(w.map(a=>a||0));let o=null;try{o=new ResizeObserver(()=>{const a=Array.from(e.querySelectorAll("thead th")),c=[];let x=0;for(let n=0;n<a.length;n++)c[n]=x,x+=a[n].offsetWidth||0;const y=[];let d=0;for(let n=a.length-1;n>=0;n--)y[n]=d,d+=a[n].offsetWidth||0;ae(c),se(y.map(n=>n||0));try{he(a.map(n=>n.offsetWidth||0))}catch{}}),o.observe(e)}catch{}return()=>{o&&o.disconnect()}},[re,i,p,M.tableWidth,_,ye,fe]);const ce=Math.max(0,Math.floor(ye||0)),j=ce>0&&p?ce+1:ce,N=Math.max(0,Math.floor(fe||0)),D=i.length+(p?1:0);return t.jsx("div",{className:"beaver-table__wrap",ref:oe,style:{overflowX:M.needsHScroll&&!pe?"auto":void 0},children:t.jsxs("table",{ref:re,className:`beaver-table ${pe?"beaver-table--fixed-header":""}`,style:{tableLayout:ke||j>0||N>0?"fixed":"auto",width:M.tableWidth},children:[ke||j>0||N>0?t.jsxs("colgroup",{children:[p?t.jsx("col",{style:{width:"40px"}},"__select_col__"):null,i.map(e=>{const r=M.cols.find(l=>l.key===e.key)?.width,s=(p?1:0)+i.findIndex(l=>l.key===e.key),u=ie&&ie[s]?ie[s]+"px":void 0;return t.jsx("col",{style:r?{width:r}:u?{width:u}:void 0},e.key)})]}):null,t.jsx("thead",{children:t.jsxs("tr",{children:[p?(()=>{const r=0<j,s=0>=D-N,u=r&&A[0]!=null?A[0]:void 0,l=s&&I[0]!=null?I[0]:void 0,w=r?{position:"sticky",left:u!=null?u+"px":0}:s?{position:"sticky",right:l!=null?l+"px":0}:void 0,h=j-1,o=D-N,a=[];r&&a.push("beaver-table__cell--sticky--left"),s&&a.push("beaver-table__cell--sticky--right"),r&&h===0&&a.push("beaver-table__cell--sticky-edge-left"),s&&o===0&&a.push("beaver-table__cell--sticky-edge-right");const c=a.join(" ");return t.jsx("th",{className:`beaver-table__select-col ${c}`,style:w,children:t.jsx("span",{onClick:x=>x.stopPropagation(),children:t.jsx(_e,{"aria-label":"select-all",checked:we,indeterminate:Ae,onChange:x=>Ne(x.target.checked)})})},"__select_col__")})():null,i.map((e,r)=>{const s=e.align??f??"left",u=M.cols.find(g=>g.key===e.key)?.width,l=(p?1:0)+r,w=l<j,h=l>=D-N,o=w&&A[l]!=null?A[l]:void 0,a=h&&I[l]!=null?I[l]:void 0,c=w?{position:"sticky",left:o!=null?o+"px":0}:h?{position:"sticky",right:a!=null?a+"px":0}:void 0,x=j-1,y=D-N,d=[];w&&d.push("beaver-table__cell--sticky--left"),h&&d.push("beaver-table__cell--sticky--right"),w&&l===x&&d.push("beaver-table__cell--sticky-edge-left"),h&&l===y&&d.push("beaver-table__cell--sticky-edge-right");const n=d.join(" ");return t.jsx("th",{style:{width:u??e.width,textAlign:s,...c||{}},className:`beaver-table__th beaver-table__th--${s} ${n}`,children:e.title},e.key)})]})}),t.jsx("tbody",{children:(()=>{const e={};return m.map((r,s)=>{const u=String(r[b]??s),l=!!B[u],w=[l?"beaver-table__row--selected":"",p?"beaver-table__row--clickable":""].filter(Boolean).join(" "),h=[];if(p){const a=0<j,c=0>=D-N,x=a&&A[0]!=null?A[0]:void 0,y=c&&I[0]!=null?I[0]:void 0,d=a?{position:"sticky",left:x!=null?x+"px":0}:c?{position:"sticky",right:y!=null?y+"px":0}:void 0,n=j-1,g=D-N,k=[];a&&k.push("beaver-table__cell--sticky--left"),c&&k.push("beaver-table__cell--sticky--right"),a&&n===0&&k.push("beaver-table__cell--sticky-edge-left"),c&&g===0&&k.push("beaver-table__cell--sticky-edge-right");const $=k.join(" ");h.push(t.jsx("td",{className:`beaver-table__select-col ${$}`,style:d,children:t.jsx("span",{onClick:C=>C.stopPropagation(),children:t.jsx(_e,{checked:l,onChange:C=>xe(u,C.target.checked)})})},`__select_${u}`))}for(let o=0;o<i.length;o++){const a=`${s}-${o}`;if(e[a])continue;const c=i[o],x=c.align??f??"left";let y=r[c.key],d=y,n=1,g=1;if(y&&typeof y=="object"&&("colSpan"in y||"rowSpan"in y||"value"in y)&&("value"in y&&(d=y.value),"colSpan"in y&&(n=Math.max(1,Number(y.colSpan)||1)),"rowSpan"in y&&(g=Math.max(1,Number(y.rowSpan)||1))),typeof c.span=="function")try{const R=c.span(r,s,c);R&&(R.colSpan!=null&&(n=Math.max(1,Number(R.colSpan)||1)),R.rowSpan!=null&&(g=Math.max(1,Number(R.rowSpan)||1)))}catch{}n=Math.min(n,i.length-o),g=Math.min(g,m.length-s);for(let R=s;R<s+g;R++)for(let G=o;G<o+n;G++){const Me=`${R}-${G}`;R===s&&G===o||(e[Me]=!0)}const k=typeof c.render=="function"?c.render(d,r,s,c):void 0,$=k==null&&typeof ue=="function"?ue(r,c,s):void 0,C=(p?1:0)+o,L=C<j,H=C>=D-N,ve=L&&A[C]!=null?A[C]:void 0,Se=H&&I[C]!=null?I[C]:void 0,Ie=L?{position:"sticky",left:ve!=null?ve+"px":0}:H?{position:"sticky",right:Se!=null?Se+"px":0}:void 0,De=j-1,Ee=D-N,F=[];L&&F.push("beaver-table__cell--sticky--left"),H&&F.push("beaver-table__cell--sticky--right"),L&&C===De&&F.push("beaver-table__cell--sticky-edge-left"),H&&C===Ee&&F.push("beaver-table__cell--sticky-edge-right");const We=F.join(" ");h.push(t.jsx("td",{className:`beaver-table__td beaver-table__td--${x} ${We}`,style:{textAlign:x,...Ie||{}},...n>1?{colSpan:n}:{},...g>1?{rowSpan:g}:{},children:k??$??d},`${c.key}_${o}`))}return t.jsx("tr",{className:w,onClick:o=>{o.target.closest("input,button,a,textarea,select,.beaver-checkbox,.beaver-checkbox-wrapper,.beaver-checkbox-input")||p&&xe(u,!l)},children:h},u)})})()})]})})};S.__docgenInfo={description:"",methods:[],displayName:"Table",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string;
  align?: 'left' | 'center' | 'right';
  /** 可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容 */
  render?: (value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined;
  /** 可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan */
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"string",required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1},description:"可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容"},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1},description:"可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan"}]}}],raw:"Column[]"},description:"列定义"},data:{required:!0,tsType:{name:"Array",elements:[{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"}],raw:"Row[]"},description:"行数据"},rowKey:{required:!1,tsType:{name:"string"},description:"行唯一标识字段",defaultValue:{value:"'id'",computed:!1}},defaultAlign:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:"默认列对齐方式，列自身未配置 align 时使用",defaultValue:{value:"'left'",computed:!1}},showCheckbox:{required:!1,tsType:{name:"boolean"},description:"是否展示行前的复选框（默认 false）",defaultValue:{value:"false",computed:!1}},selectedKeys:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"受控选中 keys（可选）"},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(keys: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"keys"}],return:{name:"void"}}},description:"选中变化回调（受控或非受控时都会触发）"},renderCell:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: Row, column: Column, rowIndex: number) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"signature",type:"object",raw:`{
  key: string;
  title: string;
  width?: string;
  align?: 'left' | 'center' | 'right';
  /** 可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容 */
  render?: (value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined;
  /** 可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan */
  span?: (row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined;
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"width",value:{name:"string",required:!1}},{key:"align",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!1}},{key:"render",value:{name:"signature",type:"function",raw:"(value: any, row: Row, rowIndex: number, column: Column) => React.ReactNode | null | undefined",signature:{arguments:[{type:{name:"any"},name:"value"},{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}},required:!1},description:"可选的列级渲染器：接收当前单元格值、整行数据、行索引和列定义，返回自定义渲染内容"},{key:"span",value:{name:"signature",type:"function",raw:"(row: Row, rowIndex: number, column: Column) => { colSpan?: number; rowSpan?: number } | undefined",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},name:"row"},{type:{name:"number"},name:"rowIndex"},{type:{name:"Column"},name:"column"}],return:{name:"union",raw:"{ colSpan?: number; rowSpan?: number } | undefined",elements:[{name:"signature",type:"object",raw:"{ colSpan?: number; rowSpan?: number }",signature:{properties:[{key:"colSpan",value:{name:"number",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}}]}},{name:"undefined"}]}},required:!1},description:"可选的单元格合并函数：返回当前单元格的 colSpan / rowSpan"}]}},name:"column"},{type:{name:"number"},name:"rowIndex"}],return:{name:"union",raw:"React.ReactNode | null | undefined",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"null"},{name:"undefined"}]}}},description:"可选的单元格渲染器：如果返回非 null/undefined，则使用其结果作为单元格内容"},preservePxAsMin:{required:!1,tsType:{name:"boolean"},description:`当混合使用 px 与 百分比/未设置宽度时，是否保证 px 列的最小宽度，且尽量避免滚动（默认 true）。
为 true 时，只有当 px 列总宽超过容器时才触发横向滚动，否则 px 列作为最小宽保留，百分比列保持弹性分配。
为 false 时，则按常规逻辑：只要包含 px 列且总宽超出容器就触发横向滚动。`,defaultValue:{value:"true",computed:!1}},minColumnPx:{required:!1,tsType:{name:"number"},description:"未指定或无法换算宽度时的保守最小像素（默认 80）",defaultValue:{value:"80",computed:!1}},fixedHeader:{required:!1,tsType:{name:"boolean"},description:"是否固定表头（position: sticky）",defaultValue:{value:"false",computed:!1}},fixedColumnCount:{required:!1,tsType:{name:"number"},description:"左侧固定列数量（不包含复选框列，默认 0）",defaultValue:{value:"0",computed:!1}},fixedRightCount:{required:!1,tsType:{name:"number"},description:"右侧固定列数量（不包含复选框列，默认 0）",defaultValue:{value:"0",computed:!1}}}};const st={title:"Components/Table",component:S,argTypes:{columns:{table:{disable:!0}},data:{table:{disable:!0}},rowKey:{table:{disable:!0}},renderCell:{table:{disable:!0}},onSelectionChange:{table:{disable:!0}},selectedKeys:{table:{disable:!0}},showCheckbox:{control:"boolean"},preservePxAsMin:{control:"boolean"},minColumnPx:{control:"number"},fixedHeader:{control:"boolean"},fixedColumnCount:{control:"number"},fixedRightCount:{control:"number"}}},E=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量"},{key:"priceEach",title:"单价"},{key:"orderGoods",title:"订单货物"},{key:"sales",title:"销售额"},{key:"orderDate",title:"订单日期"},{key:"statusName",title:"状态"}],Fe=[{key:"unique_id",title:"ID编号"},{key:"orderNumber",title:"订单号"},{key:"quantityOrdered",title:"订购数量",align:"center"},{key:"priceEach",title:"单价",align:"right"},{key:"orderGoods",title:"订单货物",align:"center"},{key:"sales",title:"销售额",align:"right"},{key:"orderDate",title:"订单日期",align:"center"},{key:"statusName",title:"状态",align:"center"}],Re=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"100px"},{key:"quantityOrdered",title:"订购数量",width:"100px"},{key:"priceEach",title:"单价",width:"100px"},{key:"orderGoods",title:"订单货物",width:"700px"},{key:"sales",title:"销售额",width:"100px"},{key:"orderDate",title:"订单日期",width:"150px"},{key:"statusName",title:"状态",width:"100px"}],Oe=[{key:"unique_id",title:"ID编号",width:"100px"},{key:"orderNumber",title:"订单号",width:"10%"},{key:"quantityOrdered",title:"订购数量",width:"10%"},{key:"priceEach",title:"单价",width:"10%"},{key:"orderGoods",title:"订单货物",width:"50%"},{key:"sales",title:"销售额",width:"10%"},{key:"orderDate",title:"订单日期",width:"10%"},{key:"statusName",title:"状态",width:"100px"}],v=[{id:1,unique_id:1,orderNumber:10107,quantityOrdered:30,priceEach:95.7,orderGoods:"货物1, 货物2",sales:2871,orderDate:"2025-01-15",status:"Disputed",statusName:"待处理"},{id:2,unique_id:2,orderNumber:10121,quantityOrdered:34,priceEach:81.35,orderGoods:"货物3, 货物4",sales:2765.9,orderDate:"2025-01-16",status:"Shipped",statusName:"已发货"},{id:3,unique_id:3,orderNumber:10134,quantityOrdered:41,priceEach:94.74,orderGoods:"货物5, 货物6",sales:3884.34,orderDate:"2025-01-17",status:"In Process",statusName:"处理中"},{id:4,unique_id:4,orderNumber:10145,quantityOrdered:45,priceEach:83.26,orderGoods:"货物7, 货物8",sales:3746.7,orderDate:"2025-01-18",status:"In Process",statusName:"处理中"},{id:5,unique_id:5,orderNumber:10159,quantityOrdered:49,priceEach:100,orderGoods:"货物9, 货物10",sales:5205.27,orderDate:"2025-01-19",status:"Disputed",statusName:"待处理"},{id:6,unique_id:6,orderNumber:10168,quantityOrdered:36,priceEach:96.66,orderGoods:"货物11, 货物12",sales:3479.76,orderDate:"2025-01-20",status:"Shipped",statusName:"已发货"},{id:7,unique_id:7,orderNumber:10180,quantityOrdered:29,priceEach:86.13,orderGoods:"货物17, 货物18",sales:2497.77,orderDate:"2025-01-21",status:"Disputed",statusName:"待处理"},{id:8,unique_id:8,orderNumber:10188,quantityOrdered:48,priceEach:100,orderGoods:"货物19, 货物20",sales:5512.32,orderDate:"2025-01-22",status:"Disputed",statusName:"待处理"}],je=`
  .user-status {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 14px;
    font-size: 13px;
    border: 1px solid rgba(0,0,0,0.06);
    background: #fff;
  }
  .user-status--disputed {
    color: #c0392b;
    border-color: rgba(192,57,43,0.15);
    background: rgba(192,57,43,0.04);
  }
  .user-status--shipped {
    color: #1e90ff;
    border-color: rgba(30,144,255,0.15);
    background: rgba(30,144,255,0.04);
  }
  .user-status--inprocess {
    color: #16a34a;
    border-color: rgba(22,163,74,0.12);
    background: rgba(22,163,74,0.04);
  }
  `,Pe=i=>t.jsx(S,{columns:E,data:v,rowKey:"id",...i}),K={name:"默认",render:Pe,args:{}},Be=i=>t.jsx(S,{columns:E,data:v,rowKey:"id",...i}),V={name:"带复选框",render:Be,args:{showCheckbox:!0}},$e=i=>t.jsx(S,{columns:Fe,data:v,rowKey:"id",...i}),z={name:"对齐方式",render:$e,args:{}},Le=i=>{const[m,b]=Ce.useState(["1"]);return t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:["Selected: ",m.join(", ")||"(none)"]}),t.jsx(S,{columns:E,data:v,rowKey:"id",selectedKeys:m,onSelectionChange:f=>b(f),...i})]})},X={name:"受控选择",render:Le,args:{showCheckbox:!0}},He=i=>t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:[t.jsx("p",{children:"自定义宽度示例"}),t.jsx("p",{children:"可以尝试更改 preservePxAsMin 参数查看"}),t.jsx("p",{children:"preservePxAsMin = false：只要包含 px 列且总宽超出容器就触发横向滚动"})]}),t.jsx(S,{columns:Oe,data:v,rowKey:"id",showCheckbox:!0,...i})]}),U={name:"自定义宽度",render:He,args:{preservePxAsMin:!0,minColumnPx:80}},Ge=i=>{const m=Array.from({length:20}).flatMap((b,f)=>v.map((p,T)=>({...p,id:p.id+f*v.length,unique_id:p.unique_id+f*v.length})));return t.jsx("div",{style:{height:240,overflow:"auto",border:"1px solid rgba(0,0,0,0.04)",borderRadius:6},children:t.jsx(S,{columns:E,data:m,rowKey:"id",fixedHeader:!0,...i})})},J={name:"固定表头",render:Ge,args:{}},Ke=i=>t.jsx("div",{style:{maxWidth:1e3},children:t.jsx(S,{columns:Re,data:v,rowKey:"id",showCheckbox:!0,fixedColumnCount:1,fixedRightCount:2,...i})}),Q={name:"左右固定列",render:Ke,args:{}},Ve=i=>{const m=Array.from({length:20}).flatMap((b,f)=>v.map((p,T)=>({...p,id:p.id+f*v.length,unique_id:p.unique_id+f*v.length})));return t.jsx("div",{style:{height:240,overflow:"auto",border:"1px solid rgba(0,0,0,0.04)",borderRadius:6},children:t.jsx(S,{columns:Re,data:m,rowKey:"id",showCheckbox:!0,fixedHeader:!0,fixedColumnCount:2,...i})})},Y={name:"固定表头 & 左列",render:Ve,args:{}},ze=i=>t.jsxs("div",{children:[t.jsx("style",{children:je}),t.jsx(S,{columns:E,data:v,rowKey:"id",renderCell:(m,b)=>{if(b.key==="statusName"){const f=String(m.status).toLowerCase().replace(/\s+/g,"");return t.jsx("span",{className:`user-status user-status--${f}`,children:m.statusName})}return b.key==="orderDate"?new Date(m.orderDate).toLocaleDateString():m[b.key]},...i})]}),Z={name:"renderCell渲染",render:ze,args:{}},Xe=i=>{const m=E.map(b=>b.key==="statusName"?{...b,render:(f,p)=>{const T=String(p.status).toLowerCase().replace(/\s+/g,"");return t.jsx("span",{className:`user-status user-status--${T}`,children:f})}}:b);return t.jsxs("div",{children:[t.jsx("style",{children:je}),t.jsx(S,{columns:m,data:v,rowKey:"id",...i})]})},ee={name:"列级渲染",render:Xe,args:{}},Ue=[{key:"a",title:"列 A"},{key:"b",title:"列 B"},{key:"c",title:"列 C"},{key:"d",title:"列 D"},{key:"e",title:"列 E"}],Je=[{id:"v1",a:{value:"A: rowspan 2",rowSpan:2},b:{value:"B: colspan 3",colSpan:3},c:"",d:"",e:"E1"},{id:"v2",b:"should be covered",c:"should be covered",d:"should be covered",e:{value:"E2",colSpan:1}},{id:"v3",a:"A3",b:"B3",c:{value:"C: colspan 2",colSpan:2},d:"",e:"E3"},{id:"v4",a:"A4",b:"B4",c:"C4",d:"D4",e:"E4"}],Qe=i=>t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:["更明显的跨行/跨列示例，使用 ",t.jsx("code",{children:"{ value, colSpan, rowSpan }"}),"，并通过 ",t.jsx("code",{children:"renderCell"})," ","高亮合并单元格。"]}),t.jsx(S,{columns:Ue,data:Je,rowKey:"id",renderCell:(m,b)=>{const f=m[b.key];return f&&typeof f=="object"&&("colSpan"in f||"rowSpan"in f)?t.jsx("div",{style:{background:"rgba(14, 165, 233, 0.12)",padding:"10px 12px",borderRadius:6},children:f.value??""}):m[b.key]},...i})]}),te={name:"跨行/跨列 - 可视化示例",render:Qe,args:{}},Ye=[{key:"name",title:"名称",span:(i,m)=>m===0?{rowSpan:2}:void 0},{key:"info",title:"信息"},{key:"extra",title:"额外"}],Ze=[{id:"c1",name:"合并的名称",info:"info1",extra:"extra1"},{id:"c2",name:"被覆盖",info:"info2",extra:"extra2"},{id:"c3",name:"正常",info:"info3",extra:"extra3"}],et=i=>t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:12},children:["演示如何在列定义中通过 ",t.jsx("code",{children:"span"})," 回调控制 rowSpan/colSpan。"]}),t.jsx(S,{columns:Ye,data:Ze,rowKey:"id",...i})]}),ne={name:"列级 span 回调 示例",render:et,args:{}};K.parameters={...K.parameters,docs:{...K.parameters?.docs,source:{originalSource:`{
  name: '默认',
  render: DefaultTemplate,
  args: {}
}`,...K.parameters?.docs?.source}}};V.parameters={...V.parameters,docs:{...V.parameters?.docs,source:{originalSource:`{
  name: '带复选框',
  render: WithCheckboxesTemplate,
  args: {
    showCheckbox: true
  }
}`,...V.parameters?.docs?.source}}};z.parameters={...z.parameters,docs:{...z.parameters?.docs,source:{originalSource:`{
  name: '对齐方式',
  render: AlignDemoTemplate,
  args: {}
}`,...z.parameters?.docs?.source}}};X.parameters={...X.parameters,docs:{...X.parameters?.docs,source:{originalSource:`{
  name: '受控选择',
  render: ControlledSelectionTemplate,
  args: {
    showCheckbox: true
  }
}`,...X.parameters?.docs?.source}}};U.parameters={...U.parameters,docs:{...U.parameters?.docs,source:{originalSource:`{
  name: '自定义宽度',
  render: MixTemplate,
  args: {
    preservePxAsMin: true,
    minColumnPx: 80
  }
}`,...U.parameters?.docs?.source}}};J.parameters={...J.parameters,docs:{...J.parameters?.docs,source:{originalSource:`{
  name: '固定表头',
  render: FixedHeaderTemplate,
  args: {}
}`,...J.parameters?.docs?.source}}};Q.parameters={...Q.parameters,docs:{...Q.parameters?.docs,source:{originalSource:`{
  name: '左右固定列',
  render: FixedBothSidesTemplate,
  args: {}
}`,...Q.parameters?.docs?.source}}};Y.parameters={...Y.parameters,docs:{...Y.parameters?.docs,source:{originalSource:`{
  name: '固定表头 & 左列',
  render: FixedHeaderAndColumnsTemplate,
  args: {}
}`,...Y.parameters?.docs?.source}}};Z.parameters={...Z.parameters,docs:{...Z.parameters?.docs,source:{originalSource:`{
  name: 'renderCell渲染',
  render: RenderCellInjectedStylesTemplate,
  args: {}
}`,...Z.parameters?.docs?.source}}};ee.parameters={...ee.parameters,docs:{...ee.parameters?.docs,source:{originalSource:`{
  name: '列级渲染',
  render: ColumnLevelRenderTemplate,
  args: {}
}`,...ee.parameters?.docs?.source}}};te.parameters={...te.parameters,docs:{...te.parameters?.docs,source:{originalSource:`{
  name: '跨行/跨列 - 可视化示例',
  render: VisibleSpanTemplate,
  args: {}
}`,...te.parameters?.docs?.source}}};ne.parameters={...ne.parameters,docs:{...ne.parameters?.docs,source:{originalSource:`{
  name: '列级 span 回调 示例',
  render: ColumnSpanTemplate,
  args: {}
}`,...ne.parameters?.docs?.source}}};const it=["Default","WithCheckboxes","AlignDemo","ControlledSelection","CustomWidths","FixedHeader","FixedBothSides","FixedHeaderAndColumns","RenderCellInjectedStyles","ColumnLevelRender","VisibleSpan","ColumnSpanAPI"];export{z as AlignDemo,ee as ColumnLevelRender,ne as ColumnSpanAPI,X as ControlledSelection,U as CustomWidths,K as Default,Q as FixedBothSides,J as FixedHeader,Y as FixedHeaderAndColumns,Z as RenderCellInjectedStyles,te as VisibleSpan,V as WithCheckboxes,it as __namedExportsOrder,st as default};
