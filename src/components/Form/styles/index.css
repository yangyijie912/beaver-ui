:root {
  /* ===== Form 尺寸定义 ===== */

  /* Small 尺寸：紧凑型 */
  --beaver-form-gap-small: 12px;
  --beaver-form-label-font-size-small: var(--beaver-font-size-sm, 14px);
  --beaver-form-item-margin-bottom-small: 12px;

  /* Medium 尺寸：标准型（默认） */
  --beaver-form-gap-medium: 16px;
  --beaver-form-label-font-size-medium: var(--beaver-font-size-md, 16px);
  --beaver-form-item-margin-bottom-medium: 16px;

  /* Large 尺寸：宽松型 */
  --beaver-form-gap-large: 20px;
  --beaver-form-label-font-size-large: var(--beaver-font-size-lg, 18px);
  --beaver-form-item-margin-bottom-large: 20px;

  /* ===== Form 颜色定义 ===== */

  /* 标签文字颜色 */
  --beaver-form-label-color: var(--beaver-color-text, #333);
  --beaver-form-label-color-disabled: var(--beaver-color-disabled, #9ca3af);

  /* 必填标记颜色（红色） */
  --beaver-form-required-mark-color: var(--beaver-color-error, #e44444);

  /* 冒号颜色 */
  --beaver-form-colon-color: var(--beaver-color-text, #333);

  /* 错误提示颜色 */
  --beaver-form-error-color: var(--beaver-color-error, #e44444);

  /* 辅助说明文本颜色 */
  --beaver-form-help-color: var(--beaver-color-disabled, #9ca3af);

  /* ===== Form 尺寸与间距 ===== */

  /* 标签宽度（用于 horizontal 布局，可被覆盖） */
  --beaver-form-label-width: 100px;

  /* FormItem 的水平间距（horizontal 布局）*/
  --beaver-form-horizontal-gap: 16px;

  /* ===== 动画和过渡 ===== */
  --beaver-form-transition-duration: 120ms;
}

/**
 * Form 容器样式
 */
.beaver-form {
  width: 100%;
  display: flex;
  flex-direction: column;
}

/**
 * vertical 布局（默认）：标签和输入框上下排列
 */
.beaver-form--vertical {
  gap: var(--beaver-form-gap-medium);
}

.beaver-form--vertical.beaver-form--small {
  gap: var(--beaver-form-gap-small);
}

.beaver-form--vertical.beaver-form--large {
  gap: var(--beaver-form-gap-large);
}

/**
 * horizontal 布局：标签和输入框左右排列
 */
.beaver-form--horizontal {
  gap: 0;
}

/**
 * inline 布局：所有字段在一行内排列
 */
.beaver-form--inline {
  flex-direction: row;
  flex-wrap: wrap;
  gap: var(--beaver-form-gap-medium);
  align-items: center;
}

.beaver-form--inline.beaver-form--small {
  gap: var(--beaver-form-gap-small);
}

.beaver-form--inline.beaver-form--large {
  gap: var(--beaver-form-gap-large);
}

/**
 * 禁用状态：整个表单禁用
 */
.beaver-form--disabled {
  opacity: 0.6;
  pointer-events: none;
}

/**
 * FormItem 容器样式
 */
.beaver-form-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* vertical 布局下的 FormItem 基础样式 */
.beaver-form--vertical .beaver-form-item {
  margin-bottom: 0;
  flex: 0 0 auto;
}

/* inline 布局下的 FormItem：允许收缩以便多项能并列在一行 */
.beaver-form--inline .beaver-form-item {
  margin-bottom: 0;
  flex: 0 1 auto;
  flex-direction: row;
  align-items: center;
}

.beaver-form--vertical.beaver-form--small .beaver-form-item {
  margin-bottom: var(--beaver-form-item-margin-bottom-small);
}

.beaver-form--vertical.beaver-form--large .beaver-form-item {
  margin-bottom: var(--beaver-form-item-margin-bottom-large);
}

/**
 * horizontal 布局下的 FormItem 样式
 */
.beaver-form--horizontal .beaver-form-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--beaver-form-horizontal-gap);
  margin-bottom: var(--beaver-form-item-margin-bottom-medium);
}

.beaver-form--horizontal.beaver-form--small .beaver-form-item {
  margin-bottom: var(--beaver-form-item-margin-bottom-small);
}

.beaver-form--horizontal.beaver-form--large .beaver-form-item {
  margin-bottom: var(--beaver-form-item-margin-bottom-large);
}

/**
 * FormItem 标签样式
 */
.beaver-form-item__label {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--beaver-form-label-font-size-medium);
  color: var(--beaver-form-label-color);
  white-space: nowrap;
}

.beaver-form--small .beaver-form-item__label {
  font-size: var(--beaver-form-label-font-size-small);
}

.beaver-form--large .beaver-form-item__label {
  font-size: var(--beaver-form-label-font-size-large);
}

/* horizontal 布局下，标签有固定宽度 */
.beaver-form--horizontal .beaver-form-item__label {
  width: var(--beaver-form-label-width);
  flex: 0 0 auto;
  justify-content: flex-end;
  text-align: right;
}

/* inline 布局下，标签不换行 */
.beaver-form--inline .beaver-form-item__label {
  white-space: nowrap;
}

/* 禁用状态下的标签颜色 */
.beaver-form--disabled .beaver-form-item__label {
  color: var(--beaver-form-label-color-disabled);
}

/**
 * 必填标记（红色 * 号）
 */
.beaver-form-item__required-mark {
  color: var(--beaver-form-required-mark-color);
  font-weight: bold;
}

/**
 * 标签后面的冒号
 */
.beaver-form-item__colon {
  color: var(--beaver-form-colon-color);
}

/**
 * FormItem 输入框容器
 */
.beaver-form-item__control {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

/* horizontal 布局下，让输入框容器充满剩余空间 */
.beaver-form--horizontal .beaver-form-item__control {
  flex: 1;
}

/* inline 布局下，输入框不超过内容宽度 */
.beaver-form--inline .beaver-form-item__control {
  flex: 0 0 auto;
}

/**
 * FormItem 内的输入框样式调整
 */
.beaver-form-item__control input,
.beaver-form-item__control textarea,
.beaver-form-item__control select {
  width: 100%;
}

/**
 * 错误提示文本
 */
.beaver-form-item__error-message {
  font-size: 12px;
  color: var(--beaver-form-error-color);
  animation: slideDown var(--beaver-form-transition-duration) ease-out;
  box-sizing: border-box;
  width: 100%;
}

/**
 * 辅助说明文本
 */
.beaver-form-item__help {
  font-size: 12px;
  color: var(--beaver-form-help-color);
  /* margin-top: 4px; */
}

/**
 * 动画：错误提示出现时的滑入动画
 */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/**
 * inline 布局下的特殊处理
 */
.beaver-form--inline .beaver-form-item__label {
  margin-right: 8px;
}

/* 在行内布局下，让 control 内部水平排列：输入框与错误信息并列显示；当空间不足时错误信息会自动换行到下一行 */
.beaver-form--inline .beaver-form-item__control {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  flex: 0 1 auto;
  flex-wrap: wrap;
}

.beaver-form--inline .beaver-form-item__error-message {
  /* 在行内与输入并列显示，允许换行以免占满整行 */
  order: 2;
  flex: 0 1 auto;
  white-space: normal;
  margin-left: 0;
}

/* 关键：在行内布局下，输入类元素默认的 100% 宽度会导致占满整行，
   需要限制它们为可伸缩的弹性项，避免把错误信息推到下一行。 */
.beaver-form--inline .beaver-form-item__control input,
.beaver-form--inline .beaver-form-item__control textarea,
.beaver-form--inline .beaver-form-item__control select {
  width: auto;
  flex: 1 1 240px; /* 优先占据可用空间，但在必要时可收缩 */
  min-width: 120px;
}

/* 限制错误信息最大宽度，超出后换行 */
.beaver-form--inline .beaver-form-item__error-message {
  width: auto;
  max-width: 360px;
}

/* horizontal 布局下：不让错误/帮助文本改变标签与输入的垂直对齐 */
.beaver-form--horizontal .beaver-form-item__control {
  position: relative;
}

.beaver-form--horizontal .beaver-form-item__error-message,
.beaver-form--horizontal .beaver-form-item__help {
  position: absolute;
  left: 0;
  top: calc(100% + 2px);
  width: 100%;
}

/* 当有错误或帮助文本时，给 item 额外的底部间距以容纳绝对定位的文本 */
.beaver-form--horizontal .beaver-form-item.beaver-form-item--error {
  margin-bottom: calc(var(--beaver-form-item-margin-bottom-medium) + 6px);
}

.beaver-form--horizontal.beaver-form--small .beaver-form-item.beaver-form-item--error {
  margin-bottom: calc(var(--beaver-form-item-margin-bottom-small) + 8px);
}

.beaver-form--horizontal.beaver-form--large .beaver-form-item.beaver-form-item--error {
  margin-bottom: calc(var(--beaver-form-item-margin-bottom-large) + 2px);
}
