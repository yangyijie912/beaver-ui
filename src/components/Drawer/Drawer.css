:root {
  /* ===== 颜色定义 ===== */

  /* 背景颜色 */
  --beaver-drawer-bg: #ffffff;
  /* 标题文字颜色 */
  --beaver-drawer-title-color: #333333;
  /* 关闭按钮颜色 */
  --beaver-drawer-close-btn-color: #666666;
  /* 关闭按钮 Hover 背景色 */
  --beaver-drawer-close-btn-hover-bg: #f5f5f5;
  /* 关闭按钮 Hover 边框色 */
  --beaver-drawer-close-btn-hover-border-color: #e0e0e0;
  /* 遮罩背景颜色 */
  --beaver-drawer-overlay-bg: rgba(0, 0, 0, 0.45);

  /* ===== 边框相关 ===== */

  /* 圆角大小 */
  --beaver-drawer-border-radius: 4px;
  /* 分隔线颜色：头部、页脚与内容区的分隔 */
  --beaver-drawer-divider-color: #f0f0f0;

  /* ===== 阴影定义 ===== */

  /* 内容区投影 */
  --beaver-drawer-box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  /* ===== 尺寸定义 ===== */
  /* 内边距：内容与边框的距离 */
  --beaver-drawer-padding: 24px;
  /* 头部下边距：标题与内容区的间距 */
  --beaver-drawer-header-margin-bottom: 16px;
  /* 页脚上边距：内容区与页脚的间距 */
  --beaver-drawer-footer-margin-top: 16px;
  /* 关闭按钮大小 */
  --beaver-drawer-close-btn-size: 20px;
  /* 关闭按钮字体大小 */
  --beaver-drawer-close-btn-font-size: 16px;

  /* ===== 文本样式 ===== */

  /* 标题字体大小 */
  --beaver-drawer-title-font-size: 16px;
  /* 标题字体粗细 */
  --beaver-drawer-title-font-weight: 600;

  /* ===== 动画定义 ===== */

  /* 打开动画时长：Drawer 从隐藏到显示 */
  --beaver-drawer-animation-duration-open: 0.35s;
  /* 关闭动画时长：Drawer 从显示到隐藏 */
  --beaver-drawer-animation-duration-close: 0.25s;
  /* 动画缓动函数：平滑的滑动效果 */
  --beaver-drawer-animation-timing: cubic-bezier(0.25, 0.46, 0.45, 0.94);

  /* ===== 层级管理 ===== */

  /* Drawer 的 z-index：保证显示在其他浮层之上（低于 Modal） */
  --beaver-drawer-z-index: var(--beaver-z-index-drawer, 9998);

  /* ===== 间距 ===== */

  /* 头部和页脚中元素的间距 */
  --beaver-drawer-gap: 12px;

  /* ===== 响应式相关 ===== */

  /* 小屏幕上水平方向 Drawer 的宽度 */
  --beaver-drawer-mobile-width: 80vw;
  /* 小屏幕上水平方向 Drawer 的最大宽度 */
  --beaver-drawer-mobile-max-width: 85%;
  /* 小屏幕上竖直方向 Drawer 的高度 */
  --beaver-drawer-mobile-height: 60vh;
  /* 小屏幕上竖直方向 Drawer 的最大高度 */
  --beaver-drawer-mobile-max-height: 80%;
  /* 小屏幕上的内边距 */
  --beaver-drawer-mobile-padding: var(--beaver-space-lg, 16px);

  /* ===== 滚动条相关 ===== */

  /* 滚动条宽度 */
  --beaver-drawer-scrollbar-width: 8px;
  /* 滚动条轨道背景 */
  --beaver-drawer-scrollbar-track-bg: transparent;
  /* 滚动条滑块背景色 */
  --beaver-drawer-scrollbar-thumb-bg: #d0d0d0;
  /* 滚动条滑块圆角 */
  --beaver-drawer-scrollbar-thumb-radius: 4px;
  /* 滚动条滑块 Hover 背景色 */
  --beaver-drawer-scrollbar-thumb-hover-bg: #b0b0b0;
}

/* ===== Portal 容器 ===== */
/**
 * Portal 容器样式
 * - 固定定位覆盖整个视口
 * - z-index 设置为 Drawer 层级
 * - pointer-events: none 保证遮罩层可以接收点击事件
 */
.beaver-drawer-portal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: var(--beaver-drawer-z-index);
  pointer-events: none;
}

/* ===== 遮罩层样式 ===== */
/**
 * 遮罩层
 * - 覆盖整个 viewport
 * - 初始状态为透明
 * - 激活时显示半透明背景
 * - 平滑过渡效果
 */
.beaver-drawer__mask {
  position: absolute;
  inset: 0;
  background-color: var(--beaver-drawer-overlay-bg);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 0;
}

/**
 * 激活状态下的遮罩
 * - 显示遮罩并启用点击交互
 */
.beaver-drawer__mask.beaver-drawer--active {
  opacity: 1;
  pointer-events: auto;
}

/* ===== 包装容器样式 ===== */
/**
 * Drawer 包装容器
 * - 固定定位，覆盖整个 viewport
 * - flex 布局用于内容对齐
 * - 初始状态 pointer-events: none，激活时启用
 */
.beaver-drawer-wrapper {
  position: fixed;
  inset: 0;
  display: flex;
  pointer-events: none;
  z-index: 1;
}

/**
 * 激活状态下的包装容器
 * - 启用点击交互
 */
.beaver-drawer-wrapper.beaver-drawer--active {
  pointer-events: auto;
}

/* ===== 方向相关样式 ===== */
/**
 * 右侧抽屉（默认）
 * - 内容从右侧滑出
 * - align-items: stretch 使内容充满整个高度
 */
.beaver-drawer-wrapper.beaver-drawer--right {
  justify-content: flex-end;
  align-items: stretch;
}

/**
 * 左侧抽屉
 * - 内容从左侧滑出
 */
.beaver-drawer-wrapper.beaver-drawer--left {
  justify-content: flex-start;
  align-items: stretch;
}

/**
 * 顶部抽屉
 * - 内容从顶部滑出
 */
.beaver-drawer-wrapper.beaver-drawer--top {
  justify-content: center;
  align-items: flex-start;
}

/**
 * 底部抽屉
 * - 内容从底部滑出
 */
.beaver-drawer-wrapper.beaver-drawer--bottom {
  justify-content: center;
  align-items: flex-end;
}

/* ===== 内容容器样式 ===== */
/**
 * Drawer 内容容器
 * - 背景色和边框样式
 * - 阴影效果增强深度感
 * - 初始状态：缩小和透明（根据方向不同）
 * - 激活后：恢复正常大小和不透明
 * - 可滚动内容
 */
.beaver-drawer__content {
  position: relative;
  background-color: var(--beaver-drawer-bg);
  border-radius: var(--beaver-drawer-border-radius);
  box-shadow: var(--beaver-drawer-box-shadow);
  overflow-y: auto;
  overflow-x: hidden;
  pointer-events: auto;
  display: flex;
  flex-direction: column;
}

/**
 * 右侧抽屉的内容样式
 * - 完整占满高度
 * - 初始状态从右侧滑入
 */
.beaver-drawer--right .beaver-drawer__content {
  height: 100%;
  transform: translateX(100%);
  opacity: 0;
  transition: none;
}

/**
 * 左侧抽屉的内容样式
 * - 完整占满高度
 * - 初始状态从左侧滑入
 */
.beaver-drawer--left .beaver-drawer__content {
  height: 100%;
  transform: translateX(-100%);
  opacity: 0;
  transition: none;
}

/**
 * 顶部抽屉的内容样式
 * - 完整占满宽度
 * - 初始状态从顶部滑入
 */
.beaver-drawer--top .beaver-drawer__content {
  width: 100%;
  transform: translateY(-100%);
  opacity: 0;
  transition: none;
}

/**
 * 底部抽屉的内容样式
 * - 完整占满宽度
 * - 初始状态从底部滑入
 */
.beaver-drawer--bottom .beaver-drawer__content {
  width: 100%;
  transform: translateY(100%);
  opacity: 0;
  transition: none;
}

/**
 * 激活状态下内容的动画
 * - 恢复位置和不透明度
 * - 平滑的拉抽屉效果
 * - 打开时使用配置的过渡时间
 */
.beaver-drawer-wrapper.beaver-drawer--active .beaver-drawer__content {
  transform: translateX(0) translateY(0);
  opacity: 1;
  transition: all var(--beaver-drawer-animation-duration-open) var(--beaver-drawer-animation-timing);
}

/**
 * 关闭状态下内容的动画
 * - 回到初始位置
 * - 快速收起效果
 */
.beaver-drawer-wrapper:not(.beaver-drawer--active) .beaver-drawer__content {
  transition: all var(--beaver-drawer-animation-duration-close) var(--beaver-drawer-animation-timing);
}

/* ===== 头部样式 ===== */
/**
 * Drawer 头部容器
 * - flexbox 布局实现标题和关闭按钮的对齐
 * - 下边框分隔内容
 * - 内边距来自 tokens
 */
.beaver-drawer__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--beaver-drawer-padding);
  padding-bottom: var(--beaver-drawer-header-margin-bottom);
  border-bottom: 1px solid var(--beaver-drawer-divider-color);
  flex-shrink: 0;
  gap: var(--beaver-drawer-gap);
}

/**
 * Drawer 标题样式
 * - 使用 tokens 中的 title 配置
 * - flex: 1 确保标题占据可用空间
 */
.beaver-drawer__title {
  font-size: var(--beaver-drawer-title-font-size);
  font-weight: var(--beaver-drawer-title-font-weight);
  color: var(--beaver-drawer-title-color);
  margin: 0;
  flex: 1;
  min-width: 0;
  word-break: break-word;
}

/**
 * 关闭按钮样式
 * - 固定大小
 * - hover 效果通过背景色变化
 * - border-radius 使其圆角
 * - cursor: pointer 表示可点击
 */
.beaver-drawer__close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--beaver-drawer-close-btn-size);
  height: var(--beaver-drawer-close-btn-size);
  background: transparent;
  border: 1px solid transparent;
  border-radius: 4px;
  cursor: pointer;
  color: var(--beaver-drawer-close-btn-color);
  font-size: var(--beaver-drawer-close-btn-font-size);
  padding: 0;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

/**
 * 关闭按钮 hover 效果
 * - 背景色变化
 * - 边框色变化
 * - 增强交互反馈
 */
.beaver-drawer__close:hover {
  background-color: var(--beaver-drawer-close-btn-hover-bg);
  border-color: var(--beaver-drawer-close-btn-hover-border-color);
}

/**
 * 关闭按钮 focus 效果
 * - 聚焦时的可访问性提示
 * - 外围轮廓表示焦点
 */
.beaver-drawer__close:focus-visible {
  outline: 2px solid var(--beaver-color-primary);
  outline-offset: 2px;
}

/**
 * 关闭按钮 SVG 图标样式
 * - 继承文字颜色
 * - 宽高为 1em（相对于 font-size）
 */
.beaver-drawer__close svg {
  width: 1em;
  height: 1em;
  fill: currentColor;
}

/* ===== 主体内容样式 ===== */
/**
 * Drawer 主体内容区域
 * - flex: 1 使其占据所有可用空间
 * - overflow-y: auto 支持内部滚动
 * - 内边距来自 tokens
 */
.beaver-drawer__body {
  flex: 1;
  padding: var(--beaver-drawer-padding);
  overflow-y: auto;
  word-break: break-word;
}

/**
 * 主体内容的最后一个元素
 * - 移除底部 margin 避免过多间距
 */
.beaver-drawer__body > :last-child {
  margin-bottom: 0;
}

/* ===== 页脚样式 ===== */
/**
 * Drawer 页脚容器
 * - flexbox 布局
 * - 当有内容时显示上边框分隔操作区
 * - 内边距和间距来自 tokens
 * - 自动换行以支持多个按钮
 * - 当为空时完全隐藏（不占空间、无边框）
 */
.beaver-drawer__footer {
  display: none;
  align-items: center;
  justify-content: flex-end;
  gap: var(--beaver-drawer-gap);
  padding: var(--beaver-drawer-padding);
  padding-top: var(--beaver-drawer-footer-margin-top);
  border-top: 1px solid var(--beaver-drawer-divider-color);
  flex-shrink: 0;
  flex-wrap: wrap;
}

/**
 * 当页脚有内容时才显示
 */
.beaver-drawer__footer:not(:empty) {
  display: flex;
}

/* ===== 响应式样式 ===== */
/**
 * 移动设备适配
 * - 小屏幕上，Drawer 占据更多空间
 * - 避免内容过窄或过高
 */
@media (max-width: 640px) {
  /**
   * 水平方向的抽屉在小屏幕上调整
   * - 左/右方向的抽屉宽度调整为 var 值
   */
  .beaver-drawer--left .beaver-drawer__content,
  .beaver-drawer--right .beaver-drawer__content {
    width: var(--beaver-drawer-mobile-width);
    max-width: var(--beaver-drawer-mobile-max-width);
  }

  /**
   * 竖直方向的抽屉在小屏幕上调整
   * - 上/下方向的抽屉高度调整为 var 值
   */
  .beaver-drawer--top .beaver-drawer__content,
  .beaver-drawer--bottom .beaver-drawer__content {
    height: var(--beaver-drawer-mobile-height);
    max-height: var(--beaver-drawer-mobile-max-height);
  }

  /**
   * 小屏幕上的头部、内容和页脚内边距调整
   */
  .beaver-drawer__header,
  .beaver-drawer__body,
  .beaver-drawer__footer {
    padding-left: var(--beaver-drawer-mobile-padding);
    padding-right: var(--beaver-drawer-mobile-padding);
  }
}

/* ===== 滚动条样式 ===== */
/**
 * 自定义滚动条外观（webkit 浏览器）
 * - 滚动条宽度设置为变量值
 * - 轨道背景透明
 * - 滑块背景浅灰色
 */
.beaver-drawer__body::-webkit-scrollbar {
  width: var(--beaver-drawer-scrollbar-width);
}

.beaver-drawer__body::-webkit-scrollbar-track {
  background: var(--beaver-drawer-scrollbar-track-bg);
}

.beaver-drawer__body::-webkit-scrollbar-thumb {
  background: var(--beaver-drawer-scrollbar-thumb-bg);
  border-radius: var(--beaver-drawer-scrollbar-thumb-radius);
}

.beaver-drawer__body::-webkit-scrollbar-thumb:hover {
  background: var(--beaver-drawer-scrollbar-thumb-hover-bg);
}

/* ===== 无遮罩模式 ===== */
/**
 * 当 mask=false 时的样式
 * - 遮罩不显示
 * 注：实际隐藏由 JavaScript 控制
 */
.beaver-drawer-wrapper.beaver-drawer--no-mask .beaver-drawer__mask {
  display: none;
}
