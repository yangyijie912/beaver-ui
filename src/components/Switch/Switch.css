:root {
  /* ==== 尺寸 === */

  /* 默认 */
  --beaver-switch-height: 22px; /* 开关高度 */
  --beaver-switch-thumb-size: 18px; /* 拇指直径 */
  --beaver-switch-half-circle: 5px; /* 预留的轨道半圆宽度（即文字和开关边缘的距离） */
  --beaver-switch-min-content-width: 25px; /* 最小内容宽度 */
  --beaver-switch-font-size: 12px; /* 字体大小 */
  /* small */
  --beaver-switch-height-small: 18px;
  --beaver-switch-thumb-size-small: 14px;
  --beaver-switch-half-circle-small: 3px;
  --beaver-switch-min-content-width-small: 20px;
  --beaver-switch-font-size-small: 10px;
  /* large */
  --beaver-switch-height-large: 26px;
  --beaver-switch-thumb-size-large: 22px;
  --beaver-switch-half-circle-large: 7px;
  --beaver-switch-min-content-width-large: 30px;
  --beaver-switch-font-size-large: 14px;

  /* ==== 颜色 === */
  --beaver-switch-primary-bg: var(--beaver-color-primary, #0eaae0); /* 选中状态背景色 */
  --beaver-switch-track-bg: rgba(0, 0, 0, 0.25); /* 轨道背景色 */
  --beaver-switch-thumb-bg: #fff; /* 拇指背景色 */

  /* ==== 间距 ==== */
  --beaver-switch-thumb-margin: 2px; /* 拇指和轨道之间的间距 */

  /* ==== 动画 ==== */
  --beaver-switch-loading-animation: 0.8s; /* loading 动画时长 */
}

/* Small 尺寸 */
.beaver-switch.beaver-switch-sm {
  --beaver-switch-height: var(--beaver-switch-height-small);
  --beaver-switch-thumb-size: var(--beaver-switch-thumb-size-small);
  --beaver-switch-half-circle: var(--beaver-switch-half-circle-small);
  --beaver-switch-min-content-width: var(--beaver-switch-min-content-width-small);
  --beaver-switch-font-size: var(--beaver-switch-font-size-small);
}

/* Large 尺寸 */
.beaver-switch.beaver-switch-lg {
  --beaver-switch-height: var(--beaver-switch-height-large);
  --beaver-switch-thumb-size: var(--beaver-switch-thumb-size-large);
  --beaver-switch-half-circle: var(--beaver-switch-half-circle-large);
  --beaver-switch-min-content-width: var(--beaver-switch-min-content-width-large);
  --beaver-switch-font-size: var(--beaver-switch-font-size-large);
}

.beaver-switch {
  display: inline-block;
  width: calc(var(--switch-actual-content-width, var(--beaver-switch-half-circle)) + var(--beaver-switch-thumb-size));
  height: var(--beaver-switch-height);
  background-color: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  position: relative;
  overflow: hidden;
}

.beaver-switch:disabled,
.beaver-switch.beaver-switch-disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

/* 轨道 - 背景容器 */
.beaver-switch-track {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--beaver-switch-track-bg);
  border-radius: calc(var(--beaver-switch-height) / 2);
  transition: background-color 0.3s ease;
  z-index: 1;
}

/* 拇指 - 白色圆形，平级元素 */
.beaver-switch-thumb {
  position: absolute;
  top: calc((var(--beaver-switch-height) - var(--beaver-switch-thumb-size)) / 2);
  left: 2px;
  width: var(--beaver-switch-thumb-size);
  height: var(--beaver-switch-thumb-size);
  background-color: var(--beaver-switch-thumb-bg);
  border-radius: 50%;
  transition: left 0.3s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  z-index: 2;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* loading 状态 - 拇指内部显示转圈圈 */
.beaver-switch-loading .beaver-switch-thumb::before {
  content: '';
  width: 8px;
  height: 8px;
  border: 2px solid rgba(0, 0, 0, 0.15);
  border-top-color: rgba(0, 0, 0, 0.3);
  border-right-color: rgba(0, 0, 0, 0.3);
  border-radius: 50%;
  animation: beaver-switch-spin var(--beaver-switch-loading-animation) linear infinite;
}

/* loading 且选中状态 - 转圈圈变蓝色 */
.beaver-switch-loading.beaver-switch-checked .beaver-switch-thumb::before {
  border-color: rgba(14, 170, 224, 0.15);
  border-top-color: var(--beaver-switch-primary-bg);
  border-right-color: var(--beaver-switch-primary-bg);
}

/* 文本 - 在轨道内部，初始在左边 */
.beaver-switch-text {
  position: absolute;
  top: 50%;
  left: calc(var(--beaver-switch-thumb-size) + 4px);
  transform: translateY(-50%);
  font-size: 12px;
  line-height: 1;
  color: var(--beaver-switch-thumb-bg);
  white-space: nowrap;
  pointer-events: none;
  z-index: 1;
  transition: left 0.3s ease;
}

/* 选中状态：拇指向右，文字向左 */
.beaver-switch-checked .beaver-switch-track {
  background-color: var(--beaver-switch-primary-bg);
}

.beaver-switch-checked .beaver-switch-thumb {
  left: calc(var(--switch-actual-content-width, var(--beaver-switch-half-circle)) - 2px);
}

.beaver-switch-checked .beaver-switch-text {
  left: calc(var(--beaver-switch-half-circle) + 4px);
}

@keyframes beaver-switch-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* 焦点状态 */
.beaver-switch:focus-visible {
  outline: 2px solid var(--beaver-switch-primary-bg);
  outline-offset: 2px;
}
